{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\properties\\\\core\\\\properties-panel\\\\BlmPropertiesPanel.tsx\";\nimport React, { Fragment, useRef } from \"react\";\nimport { Popper, Backdrop } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { ElementType } from \"editor-constants\";\nimport { BlmChapterProps, BlmCustomProps, BlmSummaryProps } from \"../../containers\";\nimport \"./properties-panel.scss\";\nconst modifiers = {\n  offset: {\n    offset: \"0,0\",\n    enabled: true\n  },\n  flip: {\n    enabled: false\n  },\n  keepTogether: {\n    enabled: false\n  },\n  arrow: {\n    enabled: false\n  },\n  preventOverflow: {\n    enabled: false\n  },\n  hide: {\n    enabled: false\n  }\n};\n\nfunction BlmPropertiesPanel(props) {\n  const {\n    element,\n    open,\n    anchorEle,\n    selectTreeItem,\n    setElementPropertiesTabIndex,\n    openConfirmDialog\n  } = props;\n  const editorRef = useRef(null);\n  const {\n    t\n  } = useTranslation();\n\n  const openSaveConfirmDialog = () => {\n    const options = {\n      className: \"template-editor-warning-dialog\",\n      okLabel: `${t(\"button.save\")}`,\n      cancelLabel: `${t(\"button.cancel\")}`\n    };\n    openConfirmDialog(\"\", `${t(\"alert.save_changes\")}`, handleClose, handleCancel, options);\n  };\n\n  const revertChanges = () => {\n    const editor = editorRef.current;\n\n    if (editor && editor.isEdited) {\n      editor.revert();\n    }\n  };\n\n  const closePanel = () => {\n    selectTreeItem();\n    setElementPropertiesTabIndex(0);\n  };\n\n  const handleClose = () => {\n    closePanel();\n  };\n\n  const handleCancel = () => {\n    revertChanges();\n    closePanel();\n  };\n\n  const handleBackdropClose = () => {\n    const editor = editorRef.current;\n\n    if (editor && editor.isEdited) {\n      openSaveConfirmDialog();\n    } else {\n      closePanel();\n    }\n  };\n\n  const renderChildren = () => {\n    if (!element) {\n      return null;\n    } else if (element.type === ElementType.Chapter) {\n      return /*#__PURE__*/React.createElement(BlmChapterProps, {\n        ref: editorRef,\n        element: element,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 14\n        }\n      });\n    } else if (element.type === ElementType.Custom) {\n      return /*#__PURE__*/React.createElement(BlmCustomProps, {\n        ref: editorRef,\n        element: element,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 14\n        }\n      });\n    } else if (element.type === ElementType.Summary && element.parent) {\n      return /*#__PURE__*/React.createElement(BlmSummaryProps, {\n        ref: editorRef,\n        element: element.parent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Backdrop, {\n    open: open,\n    className: \"properties-panel-backdrop\",\n    onClick: handleBackdropClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Popper, {\n    open: open,\n    anchorEl: open ? anchorEle : null,\n    placement: \"right-start\",\n    modifiers: modifiers,\n    className: \"properties-panel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"properties-panel-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"properties-panel-close-btn\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), renderChildren())));\n}\n\nexport default BlmPropertiesPanel;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/properties/core/properties-panel/BlmPropertiesPanel.tsx"],"names":["React","Fragment","useRef","Popper","Backdrop","useTranslation","ElementType","BlmChapterProps","BlmCustomProps","BlmSummaryProps","modifiers","offset","enabled","flip","keepTogether","arrow","preventOverflow","hide","BlmPropertiesPanel","props","element","open","anchorEle","selectTreeItem","setElementPropertiesTabIndex","openConfirmDialog","editorRef","t","openSaveConfirmDialog","options","className","okLabel","cancelLabel","handleClose","handleCancel","revertChanges","editor","current","isEdited","revert","closePanel","handleBackdropClose","renderChildren","type","Chapter","Custom","Summary","parent"],"mappings":"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","sourcesContent":["import React, { Fragment, useRef } from \"react\";\r\nimport { Popper, Backdrop } from \"@material-ui/core\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport { CourseElement, PropertiesEditorComponent } from \"types\";\r\nimport { ElementType } from \"editor-constants\";\r\nimport { BlmChapterProps, BlmCustomProps, BlmSummaryProps } from \"../../containers\";\r\nimport { ContainerProps } from \"./properties-panel-container\";\r\nimport \"./properties-panel.scss\";\r\n\r\nexport interface CompProps extends ContainerProps {\r\n  element: CourseElement;\r\n}\r\n\r\nconst modifiers = {\r\n  offset: {\r\n    offset: \"0,0\",\r\n    enabled: true,\r\n  },\r\n  flip: {\r\n    enabled: false,\r\n  },\r\n  keepTogether: {\r\n    enabled: false,\r\n  },\r\n  arrow: {\r\n    enabled: false,\r\n  },\r\n  preventOverflow: {\r\n    enabled: false,\r\n  },\r\n  hide: {\r\n    enabled: false,\r\n  },\r\n};\r\n\r\nfunction BlmPropertiesPanel(props: CompProps) {\r\n  const {\r\n    element,\r\n    open,\r\n    anchorEle,\r\n    selectTreeItem,\r\n    setElementPropertiesTabIndex,\r\n    openConfirmDialog,\r\n  } = props;\r\n  const editorRef = useRef<PropertiesEditorComponent | null>(null);\r\n  const { t } = useTranslation();\r\n\r\n  const openSaveConfirmDialog = () => {\r\n    const options = {\r\n      className: \"template-editor-warning-dialog\",\r\n      okLabel: `${t(\"button.save\")}`,\r\n      cancelLabel: `${t(\"button.cancel\")}`,\r\n    };\r\n\r\n    openConfirmDialog(\"\", `${t(\"alert.save_changes\")}`, handleClose, handleCancel, options);\r\n  };\r\n\r\n  const revertChanges = () => {\r\n    const editor = editorRef.current;\r\n\r\n    if (editor && editor.isEdited) {\r\n      editor.revert();\r\n    }\r\n  };\r\n\r\n  const closePanel = () => {\r\n    selectTreeItem();\r\n    setElementPropertiesTabIndex(0);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    closePanel();\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    revertChanges();\r\n    closePanel();\r\n  };\r\n\r\n  const handleBackdropClose = () => {\r\n    const editor = editorRef.current;\r\n\r\n    if (editor && editor.isEdited) {\r\n      openSaveConfirmDialog();\r\n    } else {\r\n      closePanel();\r\n    }\r\n  };\r\n\r\n  const renderChildren = () => {\r\n    if (!element) {\r\n      return null;\r\n    } else if (element.type === ElementType.Chapter) {\r\n      return <BlmChapterProps ref={editorRef} element={element} />;\r\n    } else if (element.type === ElementType.Custom) {\r\n      return <BlmCustomProps ref={editorRef} element={element} />;\r\n    } else if (element.type === ElementType.Summary && element.parent) {\r\n      return <BlmSummaryProps ref={editorRef} element={element.parent} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Backdrop open={open} className=\"properties-panel-backdrop\" onClick={handleBackdropClose} />\r\n      <Popper\r\n        open={open}\r\n        anchorEl={open ? anchorEle : null}\r\n        placement=\"right-start\"\r\n        modifiers={modifiers}\r\n        className=\"properties-panel\"\r\n      >\r\n        <div className=\"properties-panel-container\">\r\n          <div className=\"properties-panel-close-btn\" onClick={handleClose} />\r\n          {renderChildren()}\r\n        </div>\r\n      </Popper>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default BlmPropertiesPanel;\r\n"]},"metadata":{},"sourceType":"module"}