{"ast":null,"code":"import { createSelector } from \"reselect\";\nimport { CourseElement } from \"types\";\nimport { ElementType } from \"editor-constants\";\nimport { getElement } from \"utils\";\n\nconst getCourseProperties = state => state.course.properties.properties;\n\nconst getCourseStructure = state => state.course.structure.structure;\n\nconst getElementTemplates = state => state.course.element.templates;\n\nconst getPropsElement = (state, element) => element;\n\nexport const getCurrnetElement = createSelector([getCourseStructure, getPropsElement], (structure, element) => {\n  if (structure && element) {\n    return getElement(structure, element.id);\n  } else {\n    return element;\n  }\n});\nexport const getCurrentTemplates = createSelector([getCourseProperties, getCourseStructure, getElementTemplates, getPropsElement], (course, structure, templates, element) => {\n  const result = element && element.id === (templates === null || templates === void 0 ? void 0 : templates.id) ? templates === null || templates === void 0 ? void 0 : templates.templates : undefined;\n\n  if (course && structure && ((templates === null || templates === void 0 ? void 0 : templates.type) === ElementType.Page || (templates === null || templates === void 0 ? void 0 : templates.type) === ElementType.SimpleContent || (templates === null || templates === void 0 ? void 0 : templates.type) === ElementType.SimplePage) && result) {\n    return result.map(item => {\n      var _item$options;\n\n      const associatedChapterId = (_item$options = item.options) === null || _item$options === void 0 ? void 0 : _item$options.relative_chapter;\n\n      if (associatedChapterId) {\n        const associatedChapter = associatedChapterId === course.id ? new CourseElement(course.id, \"Course root\", ElementType.Root) : getElement(structure, associatedChapterId);\n        return { ...item,\n          associatedChapter\n        };\n      } else {\n        return item;\n      }\n    });\n  }\n\n  return result;\n});","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/redux/editor/core/selectors/index.ts"],"names":["createSelector","CourseElement","ElementType","getElement","getCourseProperties","state","course","properties","getCourseStructure","structure","getElementTemplates","element","templates","getPropsElement","getCurrnetElement","id","getCurrentTemplates","result","undefined","type","Page","SimpleContent","SimplePage","map","item","associatedChapterId","options","relative_chapter","associatedChapter","Root"],"mappings":"AAAA,SAASA,cAAT,QAA+B,UAA/B;AAEA,SAASC,aAAT,QAA8B,OAA9B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,UAAT,QAA2B,OAA3B;;AAGA,MAAMC,mBAAmB,GAAIC,KAAD,IAAsBA,KAAK,CAACC,MAAN,CAAaC,UAAb,CAAwBA,UAA1E;;AACA,MAAMC,kBAAkB,GAAIH,KAAD,IAAsBA,KAAK,CAACC,MAAN,CAAaG,SAAb,CAAuBA,SAAxE;;AACA,MAAMC,mBAAmB,GAAIL,KAAD,IAAsBA,KAAK,CAACC,MAAN,CAAaK,OAAb,CAAqBC,SAAvE;;AACA,MAAMC,eAAe,GAAG,CAACR,KAAD,EAAmBM,OAAnB,KAA8CA,OAAtE;;AAEA,OAAO,MAAMG,iBAAiB,GAAGd,cAAc,CAC7C,CAACQ,kBAAD,EAAqBK,eAArB,CAD6C,EAE7C,CAACJ,SAAD,EAAYE,OAAZ,KAAwB;AACtB,MAAIF,SAAS,IAAIE,OAAjB,EAA0B;AACxB,WAAOR,UAAU,CAACM,SAAD,EAAYE,OAAO,CAACI,EAApB,CAAjB;AACD,GAFD,MAEO;AACL,WAAOJ,OAAP;AACD;AACF,CAR4C,CAAxC;AAWP,OAAO,MAAMK,mBAAmB,GAAGhB,cAAc,CAC/C,CAACI,mBAAD,EAAsBI,kBAAtB,EAA0CE,mBAA1C,EAA+DG,eAA/D,CAD+C,EAE/C,CAACP,MAAD,EAASG,SAAT,EAAoBG,SAApB,EAA+BD,OAA/B,KAA2C;AACzC,QAAMM,MAAM,GAAGN,OAAO,IAAIA,OAAO,CAACI,EAAR,MAAeH,SAAf,aAAeA,SAAf,uBAAeA,SAAS,CAAEG,EAA1B,CAAX,GAA0CH,SAA1C,aAA0CA,SAA1C,uBAA0CA,SAAS,CAAEA,SAArD,GAAiEM,SAAhF;;AAEA,MACEZ,MAAM,IACNG,SADA,KAEC,CAAAG,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEO,IAAX,MAAoBjB,WAAW,CAACkB,IAAhC,IACC,CAAAR,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEO,IAAX,MAAoBjB,WAAW,CAACmB,aADjC,IAEC,CAAAT,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEO,IAAX,MAAoBjB,WAAW,CAACoB,UAJlC,KAKAL,MANF,EAOE;AACA,WAAOA,MAAM,CAACM,GAAP,CAAYC,IAAD,IAAU;AAAA;;AAC1B,YAAMC,mBAAmB,oBAAGD,IAAI,CAACE,OAAR,kDAAG,cAAcC,gBAA1C;;AAEA,UAAIF,mBAAJ,EAAyB;AACvB,cAAMG,iBAAiB,GACrBH,mBAAmB,KAAKnB,MAAM,CAACS,EAA/B,GACI,IAAId,aAAJ,CAAkBK,MAAM,CAACS,EAAzB,EAA6B,aAA7B,EAA4Cb,WAAW,CAAC2B,IAAxD,CADJ,GAEI1B,UAAU,CAACM,SAAD,EAAYgB,mBAAZ,CAHhB;AAKA,eAAO,EAAE,GAAGD,IAAL;AAAWI,UAAAA;AAAX,SAAP;AACD,OAPD,MAOO;AACL,eAAOJ,IAAP;AACD;AACF,KAbM,CAAP;AAcD;;AAED,SAAOP,MAAP;AACD,CA9B8C,CAA1C","sourcesContent":["import { createSelector } from \"reselect\";\r\n\r\nimport { CourseElement } from \"types\";\r\nimport { ElementType } from \"editor-constants\";\r\nimport { getElement } from \"utils\";\r\nimport { RootState } from \"redux/types\";\r\n\r\nconst getCourseProperties = (state: RootState) => state.course.properties.properties;\r\nconst getCourseStructure = (state: RootState) => state.course.structure.structure;\r\nconst getElementTemplates = (state: RootState) => state.course.element.templates;\r\nconst getPropsElement = (state: RootState, element: CourseElement) => element;\r\n\r\nexport const getCurrnetElement = createSelector(\r\n  [getCourseStructure, getPropsElement],\r\n  (structure, element) => {\r\n    if (structure && element) {\r\n      return getElement(structure, element.id);\r\n    } else {\r\n      return element;\r\n    }\r\n  }\r\n);\r\n\r\nexport const getCurrentTemplates = createSelector(\r\n  [getCourseProperties, getCourseStructure, getElementTemplates, getPropsElement],\r\n  (course, structure, templates, element) => {\r\n    const result = element && element.id === templates?.id ? templates?.templates : undefined;\r\n\r\n    if (\r\n      course &&\r\n      structure &&\r\n      (templates?.type === ElementType.Page ||\r\n        templates?.type === ElementType.SimpleContent ||\r\n        templates?.type === ElementType.SimplePage) &&\r\n      result\r\n    ) {\r\n      return result.map((item) => {\r\n        const associatedChapterId = item.options?.relative_chapter;\r\n\r\n        if (associatedChapterId) {\r\n          const associatedChapter =\r\n            associatedChapterId === course.id\r\n              ? new CourseElement(course.id, \"Course root\", ElementType.Root)\r\n              : getElement(structure, associatedChapterId);\r\n\r\n          return { ...item, associatedChapter };\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n);\r\n"]},"metadata":{},"sourceType":"module"}