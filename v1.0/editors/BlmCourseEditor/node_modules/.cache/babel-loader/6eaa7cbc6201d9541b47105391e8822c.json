{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall draft_js\n */\n'use strict';\n\nvar _require = require(\"./draftKeyUtils\"),\n    notEmptyKey = _require.notEmptyKey;\n/**\n * Return the entity key that should be used when inserting text for the\n * specified target selection, only if the entity is `MUTABLE`. `IMMUTABLE`\n * and `SEGMENTED` entities should not be used for insertion behavior.\n */\n\n\nfunction getEntityKeyForSelection(contentState, targetSelection) {\n  var entityKey;\n\n  if (targetSelection.isCollapsed()) {\n    var key = targetSelection.getAnchorKey();\n    var offset = targetSelection.getAnchorOffset();\n\n    if (offset > 0) {\n      entityKey = contentState.getBlockForKey(key).getEntityAt(offset - 1);\n\n      if (entityKey !== contentState.getBlockForKey(key).getEntityAt(offset)) {\n        return null;\n      }\n\n      return filterKey(contentState, entityKey);\n    }\n\n    return null;\n  }\n\n  var startKey = targetSelection.getStartKey();\n  var startOffset = targetSelection.getStartOffset();\n  var startBlock = contentState.getBlockForKey(startKey);\n  entityKey = startOffset === startBlock.getLength() ? null : startBlock.getEntityAt(startOffset);\n  return filterKey(contentState, entityKey);\n}\n/**\n * Determine whether an entity key corresponds to a `MUTABLE` entity. If so,\n * return it. If not, return null.\n */\n\n\nfunction filterKey(contentState, entityKey) {\n  if (notEmptyKey(entityKey)) {\n    var entity = contentState.getEntity(entityKey);\n    return entity.getMutability() === 'MUTABLE' ? entityKey : null;\n  }\n\n  return null;\n}\n\nmodule.exports = getEntityKeyForSelection;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/node_modules/draft-js/lib/getEntityKeyForSelection.js"],"names":["_require","require","notEmptyKey","getEntityKeyForSelection","contentState","targetSelection","entityKey","isCollapsed","key","getAnchorKey","offset","getAnchorOffset","getBlockForKey","getEntityAt","filterKey","startKey","getStartKey","startOffset","getStartOffset","startBlock","getLength","entity","getEntity","getMutability","module","exports"],"mappings":"AAAA;;;;;;;;;;AAUA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAtB;AAAA,IACIC,WAAW,GAAGF,QAAQ,CAACE,WAD3B;AAEA;;;;;;;AAOA,SAASC,wBAAT,CAAkCC,YAAlC,EAAgDC,eAAhD,EAAiE;AAC/D,MAAIC,SAAJ;;AAEA,MAAID,eAAe,CAACE,WAAhB,EAAJ,EAAmC;AACjC,QAAIC,GAAG,GAAGH,eAAe,CAACI,YAAhB,EAAV;AACA,QAAIC,MAAM,GAAGL,eAAe,CAACM,eAAhB,EAAb;;AAEA,QAAID,MAAM,GAAG,CAAb,EAAgB;AACdJ,MAAAA,SAAS,GAAGF,YAAY,CAACQ,cAAb,CAA4BJ,GAA5B,EAAiCK,WAAjC,CAA6CH,MAAM,GAAG,CAAtD,CAAZ;;AAEA,UAAIJ,SAAS,KAAKF,YAAY,CAACQ,cAAb,CAA4BJ,GAA5B,EAAiCK,WAAjC,CAA6CH,MAA7C,CAAlB,EAAwE;AACtE,eAAO,IAAP;AACD;;AAED,aAAOI,SAAS,CAACV,YAAD,EAAeE,SAAf,CAAhB;AACD;;AAED,WAAO,IAAP;AACD;;AAED,MAAIS,QAAQ,GAAGV,eAAe,CAACW,WAAhB,EAAf;AACA,MAAIC,WAAW,GAAGZ,eAAe,CAACa,cAAhB,EAAlB;AACA,MAAIC,UAAU,GAAGf,YAAY,CAACQ,cAAb,CAA4BG,QAA5B,CAAjB;AACAT,EAAAA,SAAS,GAAGW,WAAW,KAAKE,UAAU,CAACC,SAAX,EAAhB,GAAyC,IAAzC,GAAgDD,UAAU,CAACN,WAAX,CAAuBI,WAAvB,CAA5D;AACA,SAAOH,SAAS,CAACV,YAAD,EAAeE,SAAf,CAAhB;AACD;AACD;;;;;;AAMA,SAASQ,SAAT,CAAmBV,YAAnB,EAAiCE,SAAjC,EAA4C;AAC1C,MAAIJ,WAAW,CAACI,SAAD,CAAf,EAA4B;AAC1B,QAAIe,MAAM,GAAGjB,YAAY,CAACkB,SAAb,CAAuBhB,SAAvB,CAAb;AACA,WAAOe,MAAM,CAACE,aAAP,OAA2B,SAA3B,GAAuCjB,SAAvC,GAAmD,IAA1D;AACD;;AAED,SAAO,IAAP;AACD;;AAEDkB,MAAM,CAACC,OAAP,GAAiBtB,wBAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall draft_js\n */\n'use strict';\n\nvar _require = require(\"./draftKeyUtils\"),\n    notEmptyKey = _require.notEmptyKey;\n/**\n * Return the entity key that should be used when inserting text for the\n * specified target selection, only if the entity is `MUTABLE`. `IMMUTABLE`\n * and `SEGMENTED` entities should not be used for insertion behavior.\n */\n\n\nfunction getEntityKeyForSelection(contentState, targetSelection) {\n  var entityKey;\n\n  if (targetSelection.isCollapsed()) {\n    var key = targetSelection.getAnchorKey();\n    var offset = targetSelection.getAnchorOffset();\n\n    if (offset > 0) {\n      entityKey = contentState.getBlockForKey(key).getEntityAt(offset - 1);\n\n      if (entityKey !== contentState.getBlockForKey(key).getEntityAt(offset)) {\n        return null;\n      }\n\n      return filterKey(contentState, entityKey);\n    }\n\n    return null;\n  }\n\n  var startKey = targetSelection.getStartKey();\n  var startOffset = targetSelection.getStartOffset();\n  var startBlock = contentState.getBlockForKey(startKey);\n  entityKey = startOffset === startBlock.getLength() ? null : startBlock.getEntityAt(startOffset);\n  return filterKey(contentState, entityKey);\n}\n/**\n * Determine whether an entity key corresponds to a `MUTABLE` entity. If so,\n * return it. If not, return null.\n */\n\n\nfunction filterKey(contentState, entityKey) {\n  if (notEmptyKey(entityKey)) {\n    var entity = contentState.getEntity(entityKey);\n    return entity.getMutability() === 'MUTABLE' ? entityKey : null;\n  }\n\n  return null;\n}\n\nmodule.exports = getEntityKeyForSelection;"]},"metadata":{},"sourceType":"script"}