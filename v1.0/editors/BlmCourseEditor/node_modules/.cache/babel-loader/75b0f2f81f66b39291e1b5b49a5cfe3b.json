{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\templates\\\\components\\\\text\\\\BlmText.tsx\";\nimport React, { Fragment, useMemo } from \"react\";\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport clsx from \"clsx\";\nimport { ElementType } from \"editor-constants\";\nimport { BlmRichTextEditor } from \"components/component-editor\";\nimport { BlmDeleteComponent } from \"../../controls\";\nimport { useTextStyle } from \"./style\";\n\nfunction BlmText(props) {\n  const {\n    template,\n    className,\n    children,\n    onChange,\n    onDelete,\n    ...others\n  } = props;\n  const {\n    \"blm-id\": compoenentId,\n    \"blm-deletable\": deletable\n  } = others;\n  const classes = useTextStyle();\n  const name = `[blm-id=\"${compoenentId}\"]`;\n  const isDeletable = deletable !== undefined && (!className || className.indexOf(\"deactivated\") === -1);\n  const isQuestion = template === ElementType.Question;\n  const html = useMemo(() => {\n    const str = renderToStaticMarkup( /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 38\n      }\n    }, children)); //https://github.com/sstur/draft-js-utils/issues/194\n\n    return isQuestion ? str.replace(/\\n/g, \"<br/>\") : str;\n  }, [children, isQuestion]);\n\n  const handleClick = () => {\n    if (onDelete) {\n      onDelete(name);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: clsx(className, classes.root)\n  }, others, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }), isDeletable && /*#__PURE__*/React.createElement(BlmDeleteComponent, {\n    className: classes.deleteBtn,\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(BlmRichTextEditor, Object.assign({\n    name: name,\n    value: html,\n    template: template,\n    offset: {\n      x: 0,\n      y: -5\n    }\n  }, isQuestion ? {\n    onTextChange: onChange\n  } : {\n    onChange\n  }, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  })));\n}\n\nexport default BlmText;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/templates/components/text/BlmText.tsx"],"names":["React","Fragment","useMemo","renderToStaticMarkup","clsx","ElementType","BlmRichTextEditor","BlmDeleteComponent","useTextStyle","BlmText","props","template","className","children","onChange","onDelete","others","compoenentId","deletable","classes","name","isDeletable","undefined","indexOf","isQuestion","Question","html","str","replace","handleClick","root","deleteBtn","x","y","onTextChange"],"mappings":";AAAA,OAAOA,KAAP,IAAmDC,QAAnD,EAA6DC,OAA7D,QAA4E,OAA5E;AACA,SAASC,oBAAT,QAAqC,kBAArC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,iBAAT,QAAyD,6BAAzD;AACA,SAASC,kBAAT,QAAmC,gBAAnC;AACA,SAASC,YAAT,QAA6B,SAA7B;;AAUA,SAASC,OAAT,CAAiBC,KAAjB,EAAsD;AACpD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,SAAZ;AAAuBC,IAAAA,QAAvB;AAAiCC,IAAAA,QAAjC;AAA2CC,IAAAA,QAA3C;AAAqD,OAAGC;AAAxD,MAAmEN,KAAzE;AACA,QAAM;AAAE,cAAUO,YAAZ;AAA0B,qBAAiBC;AAA3C,MAAyDF,MAA/D;AACA,QAAMG,OAAO,GAAGX,YAAY,EAA5B;AACA,QAAMY,IAAI,GAAI,YAAWH,YAAa,IAAtC;AACA,QAAMI,WAAW,GACfH,SAAS,KAAKI,SAAd,KAA4B,CAACV,SAAD,IAAcA,SAAS,CAACW,OAAV,CAAkB,aAAlB,MAAqC,CAAC,CAAhF,CADF;AAEA,QAAMC,UAAU,GAAGb,QAAQ,KAAKN,WAAW,CAACoB,QAA5C;AAEA,QAAMC,IAAI,GAAGxB,OAAO,CAAC,MAAM;AACzB,UAAMyB,GAAG,GAAGxB,oBAAoB,eAAC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAWU,QAAX,CAAD,CAAhC,CADyB,CAGzB;;AACA,WAAOW,UAAU,GAAGG,GAAG,CAACC,OAAJ,CAAY,KAAZ,EAAmB,OAAnB,CAAH,GAAiCD,GAAlD;AACD,GALmB,EAKjB,CAACd,QAAD,EAAWW,UAAX,CALiB,CAApB;;AAOA,QAAMK,WAAW,GAAG,MAAM;AACxB,QAAId,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACK,IAAD,CAAR;AACD;AACF,GAJD;;AAMA,sBACE;AAAK,IAAA,SAAS,EAAEhB,IAAI,CAACQ,SAAD,EAAYO,OAAO,CAACW,IAApB;AAApB,KAAmDd,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACGK,WAAW,iBAAI,oBAAC,kBAAD;AAAoB,IAAA,SAAS,EAAEF,OAAO,CAACY,SAAvC;AAAkD,IAAA,OAAO,EAAEF,WAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADlB,eAEE,oBAAC,iBAAD;AACE,IAAA,IAAI,EAAET,IADR;AAEE,IAAA,KAAK,EAAEM,IAFT;AAGE,IAAA,QAAQ,EAAEf,QAHZ;AAIE,IAAA,MAAM,EAAE;AAAEqB,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE,CAAC;AAAZ;AAJV,KAKOT,UAAU,GAAG;AAAEU,IAAAA,YAAY,EAAEpB;AAAhB,GAAH,GAAgC;AAAEA,IAAAA;AAAF,GALjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFF,CADF;AAYD;;AAED,eAAeL,OAAf","sourcesContent":["import React, { PropsWithChildren, HTMLAttributes, Fragment, useMemo } from \"react\";\r\nimport { renderToStaticMarkup } from \"react-dom/server\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { ElementType } from \"editor-constants\";\r\nimport { BlmRichTextEditor, TextEditorChangeEvent } from \"components/component-editor\";\r\nimport { BlmDeleteComponent } from \"../../controls\";\r\nimport { useTextStyle } from \"./style\";\r\n\r\nexport interface CompProps extends Omit<HTMLAttributes<HTMLDivElement>, \"onChange\"> {\r\n  \"blm-id\": string;\r\n  \"blm-deletable\": string;\r\n  template: ElementType;\r\n  onChange: (event: TextEditorChangeEvent) => void;\r\n  onDelete: (selector: string) => void;\r\n}\r\n\r\nfunction BlmText(props: PropsWithChildren<CompProps>) {\r\n  const { template, className, children, onChange, onDelete, ...others } = props;\r\n  const { \"blm-id\": compoenentId, \"blm-deletable\": deletable } = others;\r\n  const classes = useTextStyle();\r\n  const name = `[blm-id=\"${compoenentId}\"]`;\r\n  const isDeletable =\r\n    deletable !== undefined && (!className || className.indexOf(\"deactivated\") === -1);\r\n  const isQuestion = template === ElementType.Question;\r\n\r\n  const html = useMemo(() => {\r\n    const str = renderToStaticMarkup(<Fragment>{children}</Fragment>);\r\n\r\n    //https://github.com/sstur/draft-js-utils/issues/194\r\n    return isQuestion ? str.replace(/\\n/g, \"<br/>\") : str;\r\n  }, [children, isQuestion]);\r\n\r\n  const handleClick = () => {\r\n    if (onDelete) {\r\n      onDelete(name);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(className, classes.root)} {...others}>\r\n      {isDeletable && <BlmDeleteComponent className={classes.deleteBtn} onClick={handleClick} />}\r\n      <BlmRichTextEditor\r\n        name={name}\r\n        value={html}\r\n        template={template}\r\n        offset={{ x: 0, y: -5 }}\r\n        {...(isQuestion ? { onTextChange: onChange } : { onChange })}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlmText;\r\n"]},"metadata":{},"sourceType":"module"}