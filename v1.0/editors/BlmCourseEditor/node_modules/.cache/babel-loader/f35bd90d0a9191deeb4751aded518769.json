{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\shared\\\\horizontal-list\\\\BlmHorizontalList.tsx\";\nimport React, { forwardRef, useCallback, useLayoutEffect, useRef, useState } from \"react\";\nimport clsx from \"clsx\";\nimport clamp from \"lodash/clamp\";\nimport \"./styles.scss\";\n\nconst BlmHorizontalList = (props, ref) => {\n  const {\n    children,\n    className,\n    ...others\n  } = props;\n  const listRef = useRef(null);\n  const [isPrevEnabled, setIsPrevEnabled] = useState(false);\n  const [isNxtEnabled, setIsNxtEnabled] = useState(false);\n  const stateRef = useRef({\n    timeoutId: undefined\n  });\n  const validateBtns = useCallback(() => {\n    const list = listRef.current;\n\n    if (list) {\n      const {\n        scrollLeft,\n        scrollWidth,\n        clientWidth\n      } = list;\n      const scrollLeftMax = scrollWidth - clientWidth;\n      setIsPrevEnabled(scrollLeft > 0);\n      setIsNxtEnabled(scrollLeft < scrollLeftMax);\n    }\n  }, [listRef, setIsPrevEnabled, setIsNxtEnabled]);\n  useLayoutEffect(() => {\n    validateBtns();\n  }, [listRef, children, validateBtns]);\n\n  const scrollList = direction => {\n    const list = listRef.current;\n\n    if (list) {\n      var _ref;\n\n      const {\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n        firstElementChild\n      } = list;\n      const maxScrollLeft = scrollWidth - clientWidth;\n      const childWidth = ((_ref = firstElementChild) === null || _ref === void 0 ? void 0 : _ref.offsetWidth) || 0;\n      const pos = clamp(scrollLeft + childWidth * direction, 0, maxScrollLeft);\n      list.scrollTo(pos, 0);\n    }\n  };\n\n  const handleScroll = () => {\n    const {\n      timeoutId\n    } = stateRef.current;\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n\n    stateRef.current.timeoutId = setTimeout(() => {\n      validateBtns();\n      stateRef.current.timeoutId = undefined;\n    }, 100);\n  };\n\n  const handlePrevClick = event => {\n    if (isPrevEnabled) {\n      scrollList(-1);\n    }\n  };\n\n  const handleNextClick = event => {\n    if (isNxtEnabled) {\n      scrollList(1);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    ref: ref,\n    className: clsx(\"horizontal-list-wrapper\", className, {\n      \"prev-disabled\": !isPrevEnabled,\n      \"nxt-disabled\": !isNxtEnabled\n    })\n  }, others, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"horizontal-list-prev-btn\",\n    onClick: handlePrevClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: listRef,\n    className: \"horizontal-list\",\n    onScroll: handleScroll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"horizontal-list-nxt-btn\",\n    onClick: handleNextClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default forwardRef(BlmHorizontalList);","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/shared/horizontal-list/BlmHorizontalList.tsx"],"names":["React","forwardRef","useCallback","useLayoutEffect","useRef","useState","clsx","clamp","BlmHorizontalList","props","ref","children","className","others","listRef","isPrevEnabled","setIsPrevEnabled","isNxtEnabled","setIsNxtEnabled","stateRef","timeoutId","undefined","validateBtns","list","current","scrollLeft","scrollWidth","clientWidth","scrollLeftMax","scrollList","direction","firstElementChild","maxScrollLeft","childWidth","offsetWidth","pos","scrollTo","handleScroll","clearTimeout","setTimeout","handlePrevClick","event","handleNextClick"],"mappings":"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","sourcesContent":["import React, {\r\n  ForwardRefRenderFunction,\r\n  MouseEvent,\r\n  forwardRef,\r\n  useCallback,\r\n  useLayoutEffect,\r\n  useRef,\r\n  useState,\r\n  HTMLAttributes,\r\n} from \"react\";\r\nimport clsx from \"clsx\";\r\nimport clamp from \"lodash/clamp\";\r\n\r\nimport \"./styles.scss\";\r\n\r\nexport interface CompProps extends HTMLAttributes<HTMLDivElement> {}\r\n\r\nconst BlmHorizontalList: ForwardRefRenderFunction<HTMLDivElement, CompProps> = (props, ref) => {\r\n  const { children, className, ...others } = props;\r\n  const listRef = useRef<HTMLDivElement>(null);\r\n  const [isPrevEnabled, setIsPrevEnabled] = useState(false);\r\n  const [isNxtEnabled, setIsNxtEnabled] = useState(false);\r\n  const stateRef = useRef({\r\n    timeoutId: undefined as undefined | number,\r\n  });\r\n\r\n  const validateBtns = useCallback(() => {\r\n    const list = listRef.current;\r\n\r\n    if (list) {\r\n      const { scrollLeft, scrollWidth, clientWidth } = list;\r\n      const scrollLeftMax = scrollWidth - clientWidth;\r\n\r\n      setIsPrevEnabled(scrollLeft > 0);\r\n      setIsNxtEnabled(scrollLeft < scrollLeftMax);\r\n    }\r\n  }, [listRef, setIsPrevEnabled, setIsNxtEnabled]);\r\n\r\n  useLayoutEffect(() => {\r\n    validateBtns();\r\n  }, [listRef, children, validateBtns]);\r\n\r\n  const scrollList = (direction: number) => {\r\n    const list = listRef.current;\r\n\r\n    if (list) {\r\n      const { scrollLeft, scrollWidth, clientWidth, firstElementChild } = list;\r\n      const maxScrollLeft = scrollWidth - clientWidth;\r\n      const childWidth = (firstElementChild as HTMLElement)?.offsetWidth || 0;\r\n      const pos = clamp(scrollLeft + childWidth * direction, 0, maxScrollLeft);\r\n\r\n      list.scrollTo(pos, 0);\r\n    }\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    const { timeoutId } = stateRef.current;\r\n\r\n    if (timeoutId) {\r\n      clearTimeout(timeoutId);\r\n    }\r\n\r\n    stateRef.current.timeoutId = setTimeout(() => {\r\n      validateBtns();\r\n      stateRef.current.timeoutId = undefined;\r\n    }, 100) as unknown as number;\r\n  };\r\n\r\n  const handlePrevClick = (event: MouseEvent) => {\r\n    if (isPrevEnabled) {\r\n      scrollList(-1);\r\n    }\r\n  };\r\n\r\n  const handleNextClick = (event: MouseEvent) => {\r\n    if (isNxtEnabled) {\r\n      scrollList(1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={clsx(\"horizontal-list-wrapper\", className, {\r\n        \"prev-disabled\": !isPrevEnabled,\r\n        \"nxt-disabled\": !isNxtEnabled,\r\n      })}\r\n      {...others}\r\n    >\r\n      <div className=\"horizontal-list-prev-btn\" onClick={handlePrevClick} />\r\n      <div ref={listRef} className=\"horizontal-list\" onScroll={handleScroll}>\r\n        {children}\r\n      </div>\r\n      <div className=\"horizontal-list-nxt-btn\" onClick={handleNextClick} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default forwardRef(BlmHorizontalList);\r\n"]},"metadata":{},"sourceType":"module"}