{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\content-editor\\\\panels\\\\media\\\\BlmContentMedia.tsx\";\nimport React, { useMemo } from \"react\";\nimport clsx from \"clsx\";\nimport { Tabs } from \"shared/material-ui\";\nimport { MediaVariants } from \"editor-constants\";\nimport { getMediaVariant } from \"utils\";\nimport { BlmMediaImage, BlmMediaButton, BlmMediaCustom, BlmMediaSlideshow, BlmMediaTarget, BlmMediaVideo, BlmMediaHotspot, BlmMediaFlipCard, BlmSynchroVideo } from \"components/content-editor/components\";\nimport { useContentEditorCtx } from \"components/content-editor/core\";\nimport { updateMediaComponent } from \"components/content-editor/reducers\";\nimport \"./styles.scss\";\n\nfunction BlmContentMedia(props) {\n  const {\n    data,\n    temp\n  } = props;\n  const {\n    config,\n    variant,\n    isDeactivated\n  } = data;\n  const {\n    dispatch\n  } = useContentEditorCtx();\n  const variants = useMemo(() => {\n    var _config$variant;\n\n    const arr = (_config$variant = config === null || config === void 0 ? void 0 : config.variant) !== null && _config$variant !== void 0 ? _config$variant : [];\n    const result = arr.reduce((result, item) => {\n      if (item === MediaVariants.Button) {\n        result.push(MediaVariants.Button, MediaVariants.FlipCard);\n      } else {\n        result.push(item);\n      }\n\n      return result;\n    }, []);\n\n    if (variant && !result.includes(variant)) {\n      result.push(variant);\n    }\n\n    return result;\n  }, [config, variant]);\n  const currentIndex = useMemo(() => {\n    if (variant) {\n      const name = getMediaVariant(variant);\n      const ind = variants.indexOf(name);\n\n      if (ind !== -1) {\n        return ind;\n      }\n    }\n  }, [variants, variant]);\n\n  const handleActivateClick = () => {\n    const newData = { ...data,\n      isDeactivated: false\n    };\n\n    if (dispatch) {\n      dispatch(updateMediaComponent(newData));\n    }\n  };\n\n  const renderVariant = variant => {\n    switch (variant) {\n      case MediaVariants.Image:\n        return /*#__PURE__*/React.createElement(BlmMediaImage, {\n          key: variant,\n          label: variant,\n          data: data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 16\n          }\n        });\n\n      case MediaVariants.Slideshow:\n        return /*#__PURE__*/React.createElement(BlmMediaSlideshow, {\n          key: variant,\n          label: variant,\n          data: data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 16\n          }\n        });\n\n      case MediaVariants.Button:\n        return /*#__PURE__*/React.createElement(BlmMediaButton, {\n          key: variant,\n          label: variant,\n          data: data,\n          temp: temp,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 16\n          }\n        });\n\n      case MediaVariants.FlipCard:\n        return /*#__PURE__*/React.createElement(BlmMediaFlipCard, {\n          key: variant,\n          label: variant,\n          data: data,\n          temp: temp,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 16\n          }\n        });\n\n      case MediaVariants.Custom:\n        return /*#__PURE__*/React.createElement(BlmMediaCustom, {\n          key: variant,\n          label: variant,\n          data: data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 16\n          }\n        });\n\n      case MediaVariants.Video:\n        return /*#__PURE__*/React.createElement(BlmMediaVideo, {\n          key: variant,\n          label: variant,\n          data: data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 16\n          }\n        });\n\n      case MediaVariants.SynchroVideo:\n        return /*#__PURE__*/React.createElement(BlmSynchroVideo, {\n          key: variant,\n          label: \"Synchro Video\",\n          data: data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 16\n          }\n        });\n\n      case MediaVariants.Target:\n        return /*#__PURE__*/React.createElement(BlmMediaTarget, {\n          key: variant,\n          label: variant,\n          data: data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 16\n          }\n        });\n\n      case MediaVariants.Hotspot:\n        return /*#__PURE__*/React.createElement(BlmMediaHotspot, {\n          key: variant,\n          label: variant,\n          data: data,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 16\n          }\n        });\n    }\n\n    return false;\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(\"content-media-wrapper\", {\n      deactivated: isDeactivated\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, variants.length && /*#__PURE__*/React.createElement(Tabs, {\n    selectedIndex: currentIndex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, variants.map(item => renderVariant(item))), isDeactivated && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-media-activate-btn\",\n    onClick: handleActivateClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Reactivate Media\"));\n}\n\nexport default BlmContentMedia;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/content-editor/panels/media/BlmContentMedia.tsx"],"names":["React","useMemo","clsx","Tabs","MediaVariants","getMediaVariant","BlmMediaImage","BlmMediaButton","BlmMediaCustom","BlmMediaSlideshow","BlmMediaTarget","BlmMediaVideo","BlmMediaHotspot","BlmMediaFlipCard","BlmSynchroVideo","useContentEditorCtx","updateMediaComponent","BlmContentMedia","props","data","temp","config","variant","isDeactivated","dispatch","variants","arr","result","reduce","item","Button","push","FlipCard","includes","currentIndex","name","ind","indexOf","handleActivateClick","newData","renderVariant","Image","Slideshow","Custom","Video","SynchroVideo","Target","Hotspot","deactivated","length","map"],"mappings":"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","sourcesContent":["import React, { useMemo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { Tabs } from \"shared/material-ui\";\r\n\r\nimport { ContentTemplateAction, MediaComponent } from \"types\";\r\nimport { MediaVariants } from \"editor-constants\";\r\nimport { getMediaVariant } from \"utils\";\r\nimport {\r\n  BlmMediaImage,\r\n  BlmMediaButton,\r\n  BlmMediaCustom,\r\n  BlmMediaSlideshow,\r\n  BlmMediaTarget,\r\n  BlmMediaVideo,\r\n  BlmMediaHotspot,\r\n  BlmMediaFlipCard,\r\n  BlmSynchroVideo,\r\n} from \"components/content-editor/components\";\r\nimport { useContentEditorCtx } from \"components/content-editor/core\";\r\nimport { updateMediaComponent } from \"components/content-editor/reducers\";\r\nimport \"./styles.scss\";\r\n\r\ninterface CompProps {\r\n  data: MediaComponent;\r\n  temp?: ContentTemplateAction | undefined;\r\n}\r\n\r\nfunction BlmContentMedia(props: CompProps) {\r\n  const { data, temp } = props;\r\n  const { config, variant, isDeactivated } = data;\r\n  const { dispatch } = useContentEditorCtx();\r\n\r\n  const variants = useMemo(() => {\r\n    const arr = config?.variant ?? [];\r\n\r\n    const result = arr.reduce((result, item) => {\r\n      if (item === MediaVariants.Button) {\r\n        result.push(MediaVariants.Button, MediaVariants.FlipCard);\r\n      } else {\r\n        result.push(item);\r\n      }\r\n\r\n      return result;\r\n    }, [] as MediaVariants[]);\r\n\r\n    if (variant && !result.includes(variant)) {\r\n      result.push(variant);\r\n    }\r\n\r\n    return result;\r\n  }, [config, variant]);\r\n\r\n  const currentIndex = useMemo(() => {\r\n    if (variant) {\r\n      const name = getMediaVariant(variant);\r\n      const ind = variants.indexOf(name);\r\n\r\n      if (ind !== -1) {\r\n        return ind;\r\n      }\r\n    }\r\n  }, [variants, variant]);\r\n\r\n  const handleActivateClick = () => {\r\n    const newData: MediaComponent = { ...data, isDeactivated: false };\r\n\r\n    if (dispatch) {\r\n      dispatch(updateMediaComponent(newData));\r\n    }\r\n  };\r\n\r\n  const renderVariant = (variant: MediaVariants) => {\r\n    switch (variant) {\r\n      case MediaVariants.Image:\r\n        return <BlmMediaImage key={variant} label={variant} data={data} />;\r\n      case MediaVariants.Slideshow:\r\n        return <BlmMediaSlideshow key={variant} label={variant} data={data} />;\r\n      case MediaVariants.Button:\r\n        return <BlmMediaButton key={variant} label={variant} data={data} temp={temp} />;\r\n      case MediaVariants.FlipCard:\r\n        return <BlmMediaFlipCard key={variant} label={variant} data={data} temp={temp} />;\r\n      case MediaVariants.Custom:\r\n        return <BlmMediaCustom key={variant} label={variant} data={data} />;\r\n      case MediaVariants.Video:\r\n        return <BlmMediaVideo key={variant} label={variant} data={data} />;\r\n      case MediaVariants.SynchroVideo:\r\n        return <BlmSynchroVideo key={variant} label=\"Synchro Video\" data={data} />;\r\n      case MediaVariants.Target:\r\n        return <BlmMediaTarget key={variant} label={variant} data={data} />;\r\n      case MediaVariants.Hotspot:\r\n        return <BlmMediaHotspot key={variant} label={variant} data={data} />;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(\"content-media-wrapper\", { deactivated: isDeactivated })}>\r\n      {variants.length && (\r\n        <Tabs selectedIndex={currentIndex}>{variants.map((item) => renderVariant(item))}</Tabs>\r\n      )}\r\n      {isDeactivated && (\r\n        <div className=\"content-media-activate-btn\" onClick={handleActivateClick}>\r\n          Reactivate Media\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlmContentMedia;\r\n"]},"metadata":{},"sourceType":"module"}