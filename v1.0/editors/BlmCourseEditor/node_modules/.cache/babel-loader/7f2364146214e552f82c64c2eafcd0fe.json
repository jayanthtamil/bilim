{"ast":null,"code":"import { QuestionFeedback, QuestionGlobalFeedback, QuestionGlobalFeedbackItem, QuestionDetailedFeedback } from \"types\";\nimport { QuestionFeedbackTypes, TemplateEditorOptionTypes } from \"editor-constants\";\nimport { getBLMElement, getHTMLElement } from \"../../core\";\nimport { getQuestionMediaComponent, getSimpleContentComponent, getTextComponent } from \"../component\";\nexport function getQuestionFeedback(root) {\n  const feedback = new QuestionFeedback();\n  const element = getHTMLElement(root, \"[id='feedback']\");\n  const embedded = getHTMLElement(root, \".embedded\");\n\n  if (element) {\n    const model = getBLMElement(element);\n    const {\n      options\n    } = model;\n    feedback.type = options ? options.feedbacktype : QuestionFeedbackTypes.None;\n    feedback.tabType = feedback.type;\n    feedback.global = getGlobalFeedback(element);\n    feedback.detailed = getDetailedFeedback(options);\n    feedback.disableEmbedded = !Boolean(embedded);\n  }\n\n  return feedback;\n}\n\nfunction getGlobalFeedback(parent) {\n  const global = new QuestionGlobalFeedback();\n  global.right = getGlobalFeedbackItem(parent, true);\n  global.wrong = getGlobalFeedbackItem(parent, false);\n  return global;\n}\n\nfunction getGlobalFeedbackItem(parent, isRight) {\n  const item = new QuestionGlobalFeedbackItem();\n\n  if (isRight) {\n    item.title = getTextComponent(parent, \"[blm-value='feedbacktitleright']\");\n    item.text = getTextComponent(parent, \"[blm-value='feedbacktextright']\");\n    item.media = getQuestionMediaComponent(parent, \"[blm-value='mediafeedbackright']\");\n    item.sound = getQuestionMediaComponent(parent, \"[blm-value='soundfeedbackright']\");\n    item.simpleContent = getSimpleContentComponent(parent, \"[blm-value='knowmorefeedbackright']\");\n  } else {\n    item.title = getTextComponent(parent, \"[blm-value='feedbacktitlewrong']\");\n    item.text = getTextComponent(parent, \"[blm-value='feedbacktextwrong']\");\n    item.media = getQuestionMediaComponent(parent, \"[blm-value='mediafeedbackwrong']\");\n    item.sound = getQuestionMediaComponent(parent, \"[blm-value='soundfeedbackwrong']\");\n    item.simpleContent = getSimpleContentComponent(parent, \"[blm-value='knowmorefeedbackwrong']\");\n  }\n\n  return item;\n}\n\nfunction getDetailedFeedback(data) {\n  const detailed = new QuestionDetailedFeedback();\n\n  if (data && data.simplecontent) {\n    const {\n      simplecontenttrue,\n      simplecontentfalse,\n      display\n    } = data.simplecontent;\n    detailed.rightId = simplecontenttrue || TemplateEditorOptionTypes.None;\n    detailed.wrongId = simplecontentfalse || TemplateEditorOptionTypes.None;\n    detailed.display = display;\n  }\n\n  return detailed;\n}","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/template-builders/model/question/feedback.ts"],"names":["QuestionFeedback","QuestionGlobalFeedback","QuestionGlobalFeedbackItem","QuestionDetailedFeedback","QuestionFeedbackTypes","TemplateEditorOptionTypes","getBLMElement","getHTMLElement","getQuestionMediaComponent","getSimpleContentComponent","getTextComponent","getQuestionFeedback","root","feedback","element","embedded","model","options","type","feedbacktype","None","tabType","global","getGlobalFeedback","detailed","getDetailedFeedback","disableEmbedded","Boolean","parent","right","getGlobalFeedbackItem","wrong","isRight","item","title","text","media","sound","simpleContent","data","simplecontent","simplecontenttrue","simplecontentfalse","display","rightId","wrongId"],"mappings":"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","sourcesContent":["import {\r\n  QuestionFeedback,\r\n  QuestionGlobalFeedback,\r\n  QuestionGlobalFeedbackItem,\r\n  QuestionDetailedFeedback,\r\n  QuizFeedbackOptionsJSON,\r\n} from \"types\";\r\nimport { QuestionFeedbackTypes, TemplateEditorOptionTypes } from \"editor-constants\";\r\nimport { getBLMElement, getHTMLElement } from \"../../core\";\r\nimport {\r\n  getQuestionMediaComponent,\r\n  getSimpleContentComponent,\r\n  getTextComponent,\r\n} from \"../component\";\r\n\r\nexport function getQuestionFeedback(root: HTMLElement) {\r\n  const feedback = new QuestionFeedback();\r\n  const element = getHTMLElement(root, \"[id='feedback']\");\r\n  const embedded = getHTMLElement(root, \".embedded\");\r\n\r\n  if (element) {\r\n    const model = getBLMElement<QuizFeedbackOptionsJSON>(element);\r\n    const { options } = model;\r\n\r\n    feedback.type = options ? options.feedbacktype : QuestionFeedbackTypes.None;\r\n    feedback.tabType = feedback.type;\r\n    feedback.global = getGlobalFeedback(element);\r\n    feedback.detailed = getDetailedFeedback(options);\r\n    feedback.disableEmbedded = !Boolean(embedded);\r\n  }\r\n\r\n  return feedback;\r\n}\r\n\r\nfunction getGlobalFeedback(parent: HTMLElement) {\r\n  const global = new QuestionGlobalFeedback();\r\n\r\n  global.right = getGlobalFeedbackItem(parent, true);\r\n  global.wrong = getGlobalFeedbackItem(parent, false);\r\n\r\n  return global;\r\n}\r\n\r\nfunction getGlobalFeedbackItem(parent: HTMLElement, isRight: boolean) {\r\n  const item = new QuestionGlobalFeedbackItem();\r\n\r\n  if (isRight) {\r\n    item.title = getTextComponent(parent, \"[blm-value='feedbacktitleright']\");\r\n    item.text = getTextComponent(parent, \"[blm-value='feedbacktextright']\");\r\n    item.media = getQuestionMediaComponent(parent, \"[blm-value='mediafeedbackright']\");\r\n    item.sound = getQuestionMediaComponent(parent, \"[blm-value='soundfeedbackright']\");\r\n    item.simpleContent = getSimpleContentComponent(parent, \"[blm-value='knowmorefeedbackright']\");\r\n  } else {\r\n    item.title = getTextComponent(parent, \"[blm-value='feedbacktitlewrong']\");\r\n    item.text = getTextComponent(parent, \"[blm-value='feedbacktextwrong']\");\r\n    item.media = getQuestionMediaComponent(parent, \"[blm-value='mediafeedbackwrong']\");\r\n    item.sound = getQuestionMediaComponent(parent, \"[blm-value='soundfeedbackwrong']\");\r\n    item.simpleContent = getSimpleContentComponent(parent, \"[blm-value='knowmorefeedbackwrong']\");\r\n  }\r\n\r\n  return item;\r\n}\r\n\r\nfunction getDetailedFeedback(data?: QuizFeedbackOptionsJSON | null) {\r\n  const detailed = new QuestionDetailedFeedback();\r\n\r\n  if (data && data.simplecontent) {\r\n    const { simplecontenttrue, simplecontentfalse, display } = data.simplecontent;\r\n\r\n    detailed.rightId = simplecontenttrue || TemplateEditorOptionTypes.None;\r\n    detailed.wrongId = simplecontentfalse || TemplateEditorOptionTypes.None;\r\n    detailed.display = display;\r\n  }\r\n\r\n  return detailed;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}