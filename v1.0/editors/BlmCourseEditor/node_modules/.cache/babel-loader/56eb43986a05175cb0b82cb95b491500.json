{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\content-editor\\\\components\\\\actions\\\\newgoto\\\\BlmButtonActionGoto.tsx\";\nimport React from \"react\";\nimport { useContentEditorCtx } from \"components/content-editor/core\";\nimport clsx from \"clsx\";\nimport BlmStructureSelect from \"components/structures/select\";\nimport { ElementType } from \"editor-constants\";\nimport \"./styles.scss\";\n\nconst BlmButtonActionGoto = props => {\n  const {\n    type,\n    data,\n    onChange\n  } = props;\n  const {\n    element\n  } = useContentEditorCtx();\n  const {\n    gotoId\n  } = data || {};\n  const STRUCTURE_ITEMS = [ElementType.Chapter, ElementType.Page, ElementType.Screen, ElementType.Question, ElementType.Custom];\n\n  const isAllowedItem = item => {\n    var _item$parent;\n\n    return ((_item$parent = item.parent) === null || _item$parent === void 0 ? void 0 : _item$parent.isEvaluation) ? false : STRUCTURE_ITEMS.includes(item.type);\n  };\n\n  const handleChange = element => {\n    console.log(element);\n    const {\n      target\n    } = element;\n    const {\n      name,\n      value\n    } = target;\n\n    if (onChange) {\n      onChange({\n        target: {\n          name,\n          value: {\n            action: name,\n            gotoId: value\n          }\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(\"simple-action-wrapper\", type),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(BlmStructureSelect, {\n    name: \"goto\",\n    element: element,\n    structures: {\n      show: true,\n      allowedItems: isAllowedItem\n    },\n    selectables: [ElementType.SimplePage, ElementType.SimpleContent, ElementType.Page, ElementType.Screen, ElementType.Chapter, ElementType.Custom, ElementType.Question],\n    value: gotoId,\n    local: {\n      show: false\n    },\n    className: \"structure-select-with-icons\",\n    onChange: handleChange,\n    placeholder: \"Select in structure\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default BlmButtonActionGoto;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/content-editor/components/actions/newgoto/BlmButtonActionGoto.tsx"],"names":["React","useContentEditorCtx","clsx","BlmStructureSelect","ElementType","BlmButtonActionGoto","props","type","data","onChange","element","gotoId","STRUCTURE_ITEMS","Chapter","Page","Screen","Question","Custom","isAllowedItem","item","parent","isEvaluation","includes","handleChange","console","log","target","name","value","action","show","allowedItems","SimplePage","SimpleContent"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,mBAAT,QAAoC,gCAApC;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,kBAAP,MAA+D,8BAA/D;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAO,eAAP;;AAQA,MAAMC,mBAAmB,GAAIC,KAAD,IAAsB;AAChD,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,IAAR;AAAcC,IAAAA;AAAd,MAA2BH,KAAjC;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAcT,mBAAmB,EAAvC;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAaH,IAAI,IAAI,EAA3B;AAEA,QAAMI,eAA8B,GAAG,CACrCR,WAAW,CAACS,OADyB,EAErCT,WAAW,CAACU,IAFyB,EAGrCV,WAAW,CAACW,MAHyB,EAIrCX,WAAW,CAACY,QAJyB,EAKrCZ,WAAW,CAACa,MALyB,CAAvC;;AAQA,QAAMC,aAAa,GAAIC,IAAD,IAAyB;AAAA;;AAC7C,WAAO,iBAAAA,IAAI,CAACC,MAAL,8DAAaC,YAAb,IAA4B,KAA5B,GAAoCT,eAAe,CAACU,QAAhB,CAAyBH,IAAI,CAACZ,IAA9B,CAA3C;AACD,GAFD;;AAIA,QAAMgB,YAAY,GAAIb,OAAD,IAAyC;AAC5Dc,IAAAA,OAAO,CAACC,GAAR,CAAYf,OAAZ;AACA,UAAM;AAAEgB,MAAAA;AAAF,QAAahB,OAAnB;AACA,UAAM;AAAEiB,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAkBF,MAAxB;;AACA,QAAIjB,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAAC;AAAEiB,QAAAA,MAAM,EAAE;AAAEC,UAAAA,IAAF;AAAQC,UAAAA,KAAK,EAAE;AAAEC,YAAAA,MAAM,EAAEF,IAAV;AAAgBhB,YAAAA,MAAM,EAAEiB;AAAxB;AAAf;AAAV,OAAD,CAAR;AACD;AACF,GAPD;;AASA,sBACE;AAAK,IAAA,SAAS,EAAE1B,IAAI,CAAC,uBAAD,EAA0BK,IAA1B,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,kBAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,OAAO,EAAEG,OAFX;AAGE,IAAA,UAAU,EAAE;AAAEoB,MAAAA,IAAI,EAAE,IAAR;AAAcC,MAAAA,YAAY,EAAEb;AAA5B,KAHd;AAIE,IAAA,WAAW,EAAE,CACXd,WAAW,CAAC4B,UADD,EAEX5B,WAAW,CAAC6B,aAFD,EAGX7B,WAAW,CAACU,IAHD,EAIXV,WAAW,CAACW,MAJD,EAKXX,WAAW,CAACS,OALD,EAMXT,WAAW,CAACa,MAND,EAOXb,WAAW,CAACY,QAPD,CAJf;AAaE,IAAA,KAAK,EAAEL,MAbT;AAcE,IAAA,KAAK,EAAE;AAAEmB,MAAAA,IAAI,EAAE;AAAR,KAdT;AAeE,IAAA,SAAS,EAAC,6BAfZ;AAgBE,IAAA,QAAQ,EAAEP,YAhBZ;AAiBE,IAAA,WAAW,EAAC,qBAjBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAuBD,CAjDD;;AAmDA,eAAelB,mBAAf","sourcesContent":["import React from \"react\";\r\nimport { useContentEditorCtx } from \"components/content-editor/core\";\r\nimport clsx from \"clsx\";\r\nimport BlmStructureSelect, { StructureSelectChangeEvent } from \"components/structures/select\";\r\nimport { ElementType } from \"editor-constants\";\r\nimport { CustomChangeEvent, GotoAction, CourseElement } from \"types\";\r\nimport \"./styles.scss\";\r\n\r\nexport interface CompProps {\r\n  data?: GotoAction;\r\n  type?: \"standard\" | \"limited\";\r\n  onChange?: (event: CustomChangeEvent<GotoAction>) => void;\r\n}\r\n\r\nconst BlmButtonActionGoto = (props: CompProps) => {\r\n  const { type, data, onChange } = props;\r\n  const { element } = useContentEditorCtx();\r\n  const { gotoId } = data || {};\r\n\r\n  const STRUCTURE_ITEMS: ElementType[] = [\r\n    ElementType.Chapter,\r\n    ElementType.Page,\r\n    ElementType.Screen,\r\n    ElementType.Question,\r\n    ElementType.Custom,\r\n  ];\r\n\r\n  const isAllowedItem = (item: CourseElement) => {\r\n    return item.parent?.isEvaluation ? false : STRUCTURE_ITEMS.includes(item.type);\r\n  };\r\n\r\n  const handleChange = (element: StructureSelectChangeEvent) => {\r\n    console.log(element);\r\n    const { target } = element;\r\n    const { name, value } = target;\r\n    if (onChange) {\r\n      onChange({ target: { name, value: { action: name, gotoId: value } } });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(\"simple-action-wrapper\", type)}>\r\n      <BlmStructureSelect\r\n        name=\"goto\"\r\n        element={element}\r\n        structures={{ show: true, allowedItems: isAllowedItem }}\r\n        selectables={[\r\n          ElementType.SimplePage,\r\n          ElementType.SimpleContent,\r\n          ElementType.Page,\r\n          ElementType.Screen,\r\n          ElementType.Chapter,\r\n          ElementType.Custom,\r\n          ElementType.Question,\r\n        ]}\r\n        value={gotoId}\r\n        local={{ show: false }}\r\n        className=\"structure-select-with-icons\"\r\n        onChange={handleChange}\r\n        placeholder=\"Select in structure\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BlmButtonActionGoto;\r\n"]},"metadata":{},"sourceType":"module"}