{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\content-editor\\\\components\\\\media\\\\hotspot\\\\properties\\\\BlmHotspotItemProps.tsx\";\nimport React, { Fragment, useMemo } from \"react\";\nimport clsx from \"clsx\";\nimport { FormControlLabel, MenuItem, Select, Switch } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { AcceptedFileTypes, StyleListTypes } from \"editor-constants\";\nimport { hasSameHotspotItemStyles, updateObject } from \"utils\";\nimport { BlmPosition } from \"shared\";\nimport { BlmMediaPicker } from \"components/shared\";\nimport { BlmRichTextEditor } from \"components/component-editor\";\nimport { useContentEditorCtx } from \"components/content-editor/core\";\nimport { applyHotspotActionStyles, applyHotspotItemStyles } from \"components/content-editor/reducers\";\nimport { BlmStylePicker } from \"../../../styles\";\nimport BlmActions, { BlmSwitchActions } from \"../../../actions\";\nimport \"./styles.scss\";\nconst SIZES = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n\nfunction BlmHotspotItemProps(props) {\n  const {\n    type = \"standard\",\n    data,\n    item,\n    isLinked,\n    onChange\n  } = props;\n  const {\n    items,\n    groups\n  } = data;\n  const {\n    id,\n    name,\n    groupId,\n    media,\n    position,\n    size,\n    hasDark,\n    style,\n    clickAction,\n    overAction\n  } = item;\n  const {\n    element\n  } = useContentEditorCtx();\n  const {\n    t\n  } = useTranslation(\"content-editor\");\n  const isStandard = type === \"standard\";\n  const styleType = isStandard ? (element === null || element === void 0 ? void 0 : element.isSummary) ? StyleListTypes.MediaHotspotItemSummary : StyleListTypes.MediaHotspotItem : StyleListTypes.MediaHotspotItem360;\n  const showApplyIcon = useMemo(() => {\n    return hasSameHotspotItemStyles(data);\n  }, [data]);\n\n  const updateChange = newData => {\n    if (onChange) {\n      onChange(newData);\n    }\n  };\n\n  const handleChange = event => {\n    const target = event.target;\n    const name = target.name;\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\n    let newData;\n\n    if (name === \"name\" || name === \"groupId\" || name === \"media\" || name === \"style\" || name === \"position\" || name === \"size\" || name === \"hasDark\" || name === \"callToAction\" || name === \"clickAction\" || name === \"overAction\") {\n      newData = { ...data,\n        items: updateObject(items, \"id\", id, {\n          [name]: value\n        })\n      };\n\n      if (name === \"style\") {\n        newData.style = value;\n      }\n    }\n\n    if (newData) {\n      updateChange(newData);\n    }\n  };\n\n  const handleApplyClick = style => {\n    const newData = applyHotspotItemStyles(data, style);\n    updateChange(newData);\n  };\n\n  const handleActionApplyStyle = event => {\n    const {\n      name,\n      value\n    } = event.target;\n\n    if (item && (name === \"clickAction\" || name === \"overAction\")) {\n      const newData = applyHotspotActionStyles(data, value, item[name]);\n      updateChange(newData);\n    }\n  };\n\n  const handleSwitchClick = () => {\n    if (item) {\n      const newData = { ...data,\n        items: updateObject(items, \"id\", id, {\n          clickAction: overAction,\n          overAction: clickAction\n        })\n      };\n      updateChange(newData);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: clsx(\"hotspot-item-props-wrapper\", type),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-flex-cont1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    name: \"groupId\",\n    value: groupId || \"\",\n    displayEmpty: true,\n    disabled: !groups.enabled,\n    className: \"hotspot-item-group-dropdown\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }, t(\"hotspot.select_group\")), groups.items.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n    key: item.id,\n    value: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, item.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-flex-cont2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-flex-inner-cont1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BlmStylePicker, {\n    type: styleType,\n    name: \"style\",\n    value: style,\n    label: t(\"hotspot.apply_hotspot\"),\n    showApplyIcon: showApplyIcon,\n    onChange: handleChange,\n    onApplyClick: handleApplyClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-flex-inner-cont2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-cont2-contain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-cont2-item1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BlmMediaPicker, {\n    name: \"media\",\n    elementId: element.id,\n    acceptedFiles: [AcceptedFileTypes.Image],\n    data: media,\n    isLinked: isLinked,\n    className: \"hotspot-item-image-picker\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-cont2-item2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-cont2-item2-subitem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-cont2-item2-subitem1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-item-size-lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }, t(\"hotspot.size\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-cont2-item2-subitem2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, isStandard && /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    name: \"size\",\n    value: size,\n    className: \"hotspot-item-size-dropdown\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 23\n    }\n  }, SIZES.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n    key: item,\n    value: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 27\n    }\n  }, item))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-cont2-item3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BlmPosition, {\n    name: \"position\",\n    value: position,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-flex-inner-cont3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BlmRichTextEditor, {\n    key: id,\n    name: \"name\",\n    value: name,\n    className: \"hotspot-item-name-txt\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-item-theme-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    name: \"hasDark\",\n    label: hasDark ? t(\"label.dark\") : t(\"label.light\"),\n    control: /*#__PURE__*/React.createElement(Switch, {\n      className: \"switch-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 20\n      }\n    }),\n    checked: hasDark,\n    className: \"hotspot-item-dark-switch-ctrl\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-item-actions-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-item-actions-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, t(\"label.action\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-item-actions-lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, t(\"label.on\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hotspot-item-actions-bold-lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 27\n    }\n  }, t(\"label.click\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hotspot-item-actions-lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  }, t(\"label.on\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"hotspot-item-actions-bold-lbl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 11\n    }\n  }, t(\"label.roll_over\"))), /*#__PURE__*/React.createElement(BlmActions, {\n    name: \"clickAction\",\n    data: clickAction,\n    type: isStandard ? \"hotspot\" : \"hotspot-360\",\n    onChange: handleChange,\n    onApplyStyle: handleActionApplyStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BlmSwitchActions, {\n    left: clickAction,\n    right: overAction,\n    leftType: isStandard ? \"hotspot\" : \"hotspot-360\",\n    rightType: isStandard ? \"hotspot-over\" : \"hotspot-360-over\",\n    onClick: handleSwitchClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BlmActions, {\n    name: \"overAction\",\n    data: overAction,\n    type: isStandard ? \"hotspot-over\" : \"hotspot-360-over\",\n    onChange: handleChange,\n    onApplyStyle: handleActionApplyStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default BlmHotspotItemProps;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/content-editor/components/media/hotspot/properties/BlmHotspotItemProps.tsx"],"names":["React","Fragment","useMemo","clsx","FormControlLabel","MenuItem","Select","Switch","useTranslation","AcceptedFileTypes","StyleListTypes","hasSameHotspotItemStyles","updateObject","BlmPosition","BlmMediaPicker","BlmRichTextEditor","useContentEditorCtx","applyHotspotActionStyles","applyHotspotItemStyles","BlmStylePicker","BlmActions","BlmSwitchActions","SIZES","BlmHotspotItemProps","props","type","data","item","isLinked","onChange","items","groups","id","name","groupId","media","position","size","hasDark","style","clickAction","overAction","element","t","isStandard","styleType","isSummary","MediaHotspotItemSummary","MediaHotspotItem","MediaHotspotItem360","showApplyIcon","updateChange","newData","handleChange","event","target","value","checked","handleApplyClick","handleActionApplyStyle","handleSwitchClick","enabled","map","Image"],"mappings":";AAAA,OAAOA,KAAP,IAA6BC,QAA7B,EAAuCC,OAAvC,QAAsD,OAAtD;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,gBAAT,EAA2BC,QAA3B,EAAqCC,MAArC,EAA6CC,MAA7C,QAA2D,mBAA3D;AACA,SAASC,cAAT,QAA+B,eAA/B;AAUA,SAASC,iBAAT,EAAuCC,cAAvC,QAA6D,kBAA7D;AACA,SAASC,wBAAT,EAAmCC,YAAnC,QAAuD,OAAvD;AACA,SAASC,WAAT,QAA4B,QAA5B;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,iBAAT,QAAkC,6BAAlC;AACA,SAASC,mBAAT,QAAoC,gCAApC;AACA,SACEC,wBADF,EAEEC,sBAFF,QAGO,oCAHP;AAIA,SAASC,cAAT,QAA+B,iBAA/B;AAEA,OAAOC,UAAP,IAAqBC,gBAArB,QAA6C,kBAA7C;AAEA,OAAO,eAAP;AAWA,MAAMC,KAAK,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,EAA5B,CAAd;;AAEA,SAASC,mBAAT,CAA6BC,KAA7B,EAAsD;AACpD,QAAM;AAAEC,IAAAA,IAAI,GAAG,UAAT;AAAqBC,IAAAA,IAArB;AAA2BC,IAAAA,IAA3B;AAAiCC,IAAAA,QAAjC;AAA2CC,IAAAA;AAA3C,MAAwDL,KAA9D;AACA,QAAM;AAAEM,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAoBL,IAA1B;AACA,QAAM;AACJM,IAAAA,EADI;AAEJC,IAAAA,IAFI;AAGJC,IAAAA,OAHI;AAIJC,IAAAA,KAJI;AAKJC,IAAAA,QALI;AAMJC,IAAAA,IANI;AAOJC,IAAAA,OAPI;AAQJC,IAAAA,KARI;AASJC,IAAAA,WATI;AAUJC,IAAAA;AAVI,MAWFd,IAXJ;AAYA,QAAM;AAAEe,IAAAA;AAAF,MAAc1B,mBAAmB,EAAvC;AACA,QAAM;AAAE2B,IAAAA;AAAF,MAAQnC,cAAc,CAAC,gBAAD,CAA5B;AACA,QAAMoC,UAAU,GAAGnB,IAAI,KAAK,UAA5B;AACA,QAAMoB,SAAS,GAAGD,UAAU,GACxB,CAAAF,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEI,SAAT,IACEpC,cAAc,CAACqC,uBADjB,GAEErC,cAAc,CAACsC,gBAHO,GAIxBtC,cAAc,CAACuC,mBAJnB;AAMA,QAAMC,aAAa,GAAGhD,OAAO,CAAC,MAAM;AAClC,WAAOS,wBAAwB,CAACe,IAAD,CAA/B;AACD,GAF4B,EAE1B,CAACA,IAAD,CAF0B,CAA7B;;AAIA,QAAMyB,YAAY,GAAIC,OAAD,IAA2B;AAC9C,QAAIvB,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAACuB,OAAD,CAAR;AACD;AACF,GAJD;;AAMA,QAAMC,YAAY,GAChBC,KADmB,IAIhB;AACH,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,UAAMtB,IAAI,GAAGsB,MAAM,CAACtB,IAApB;AACA,UAAMuB,KAAK,GAAGD,MAAM,CAAC9B,IAAP,KAAgB,UAAhB,GAA6B8B,MAAM,CAACE,OAApC,GAA8CF,MAAM,CAACC,KAAnE;AACA,QAAIJ,OAAJ;;AAEA,QACEnB,IAAI,KAAK,MAAT,IACAA,IAAI,KAAK,SADT,IAEAA,IAAI,KAAK,OAFT,IAGAA,IAAI,KAAK,OAHT,IAIAA,IAAI,KAAK,UAJT,IAKAA,IAAI,KAAK,MALT,IAMAA,IAAI,KAAK,SANT,IAOAA,IAAI,KAAK,cAPT,IAQAA,IAAI,KAAK,aART,IASAA,IAAI,KAAK,YAVX,EAWE;AACAmB,MAAAA,OAAO,GAAG,EACR,GAAG1B,IADK;AAERI,QAAAA,KAAK,EAAElB,YAAY,CAACkB,KAAD,EAAQ,IAAR,EAAcE,EAAd,EAAkB;AAAE,WAACC,IAAD,GAAQuB;AAAV,SAAlB;AAFX,OAAV;;AAKA,UAAIvB,IAAI,KAAK,OAAb,EAAsB;AACpBmB,QAAAA,OAAO,CAACb,KAAR,GAAgBiB,KAAhB;AACD;AACF;;AAED,QAAIJ,OAAJ,EAAa;AACXD,MAAAA,YAAY,CAACC,OAAD,CAAZ;AACD;AACF,GAnCD;;AAqCA,QAAMM,gBAAgB,GAAInB,KAAD,IAAmB;AAC1C,UAAMa,OAAO,GAAGlC,sBAAsB,CAACQ,IAAD,EAAOa,KAAP,CAAtC;AAEAY,IAAAA,YAAY,CAACC,OAAD,CAAZ;AACD,GAJD;;AAMA,QAAMO,sBAAsB,GAAIL,KAAD,IAA2C;AACxE,UAAM;AAAErB,MAAAA,IAAF;AAAQuB,MAAAA;AAAR,QAAkBF,KAAK,CAACC,MAA9B;;AAEA,QAAI5B,IAAI,KAAKM,IAAI,KAAK,aAAT,IAA0BA,IAAI,KAAK,YAAxC,CAAR,EAA+D;AAC7D,YAAMmB,OAAO,GAAGnC,wBAAwB,CAACS,IAAD,EAAO8B,KAAP,EAAc7B,IAAI,CAACM,IAAD,CAAlB,CAAxC;AAEAkB,MAAAA,YAAY,CAACC,OAAD,CAAZ;AACD;AACF,GARD;;AAUA,QAAMQ,iBAAiB,GAAG,MAAM;AAC9B,QAAIjC,IAAJ,EAAU;AACR,YAAMyB,OAAO,GAAG,EACd,GAAG1B,IADW;AAEdI,QAAAA,KAAK,EAAElB,YAAY,CAACkB,KAAD,EAAQ,IAAR,EAAcE,EAAd,EAAkB;AACnCQ,UAAAA,WAAW,EAAEC,UADsB;AAEnCA,UAAAA,UAAU,EAAED;AAFuB,SAAlB;AAFL,OAAhB;AAQAW,MAAAA,YAAY,CAACC,OAAD,CAAZ;AACD;AACF,GAZD;;AAcA,sBACE;AAAK,IAAA,SAAS,EAAEjD,IAAI,CAAC,4BAAD,EAA+BsB,IAA/B,CAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,KAAK,EAAES,OAAO,IAAI,EAFpB;AAGE,IAAA,YAAY,MAHd;AAIE,IAAA,QAAQ,EAAE,CAACH,MAAM,CAAC8B,OAJpB;AAKE,IAAA,SAAS,EAAC,6BALZ;AAME,IAAA,QAAQ,EAAER,YANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAC,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoBV,CAAC,CAAC,sBAAD,CAArB,CARF,EASGZ,MAAM,CAACD,KAAP,CAAagC,GAAb,CAAkBnC,IAAD,iBAChB,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,IAAI,CAACK,EAApB;AAAwB,IAAA,KAAK,EAAEL,IAAI,CAACK,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGL,IAAI,CAACM,IADR,CADD,CATH,CADF,CADF,eAkBE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AACE,IAAA,IAAI,EAAEY,SADR;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAEN,KAHT;AAIE,IAAA,KAAK,EAAEI,CAAC,CAAC,uBAAD,CAJV;AAKE,IAAA,aAAa,EAAEO,aALjB;AAME,IAAA,QAAQ,EAAEG,YANZ;AAOE,IAAA,YAAY,EAAEK,gBAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAYE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAEhB,OAAO,CAAEV,EAFtB;AAGE,IAAA,aAAa,EAAE,CAACvB,iBAAiB,CAACsD,KAAnB,CAHjB;AAIE,IAAA,IAAI,EAAE5B,KAJR;AAKE,IAAA,QAAQ,EAAEP,QALZ;AAME,IAAA,SAAS,EAAC,2BANZ;AAOE,IAAA,QAAQ,EAAEyB,YAPZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAYE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwCV,CAAC,CAAC,cAAD,CAAzC,CADF,CADF,eAIE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGC,UAAU,iBACT,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEP,IAFT;AAGE,IAAA,SAAS,EAAC,4BAHZ;AAIE,IAAA,QAAQ,EAAEgB,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMG/B,KAAK,CAACwC,GAAN,CAAWnC,IAAD,iBACT,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,IAAf;AAAqB,IAAA,KAAK,EAAEA,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,IADH,CADD,CANH,CADF,CAFJ,CAJF,CADF,CAZF,eAqCE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAa,IAAA,IAAI,EAAC,UAAlB;AAA6B,IAAA,KAAK,EAAES,QAApC;AAA8C,IAAA,QAAQ,EAAEiB,YAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CArCF,CADF,CAZF,eAuDE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,iBAAD;AACE,IAAA,GAAG,EAAErB,EADP;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,KAAK,EAAEC,IAHT;AAIE,IAAA,SAAS,EAAC,uBAJZ;AAKE,IAAA,QAAQ,EAAEoB,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAvDF,CAlBF,eAmFE;AAAK,IAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,gBAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,KAAK,EAAEf,OAAO,GAAGK,CAAC,CAAC,YAAD,CAAJ,GAAqBA,CAAC,CAAC,aAAD,CAFtC;AAGE,IAAA,OAAO,eAAE,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHX;AAIE,IAAA,OAAO,EAAEL,OAJX;AAKE,IAAA,SAAS,EAAC,+BALZ;AAME,IAAA,QAAQ,EAAEe,YANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAnFF,eA6FE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6CV,CAAC,CAAC,cAAD,CAA9C,CADF,eAEE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,CAAC,CAAC,UAAD,CADJ,oBACkB;AAAM,IAAA,SAAS,EAAC,+BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiDA,CAAC,CAAC,aAAD,CAAlD,CADlB,CAFF,eAKE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,CAAC,CAAC,UAAD,CADJ,EACkB,GADlB,eAEE;AAAM,IAAA,SAAS,EAAC,+BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiDA,CAAC,CAAC,iBAAD,CAAlD,CAFF,CALF,eASE,oBAAC,UAAD;AACE,IAAA,IAAI,EAAC,aADP;AAEE,IAAA,IAAI,EAAEH,WAFR;AAGE,IAAA,IAAI,EAAEI,UAAU,GAAG,SAAH,GAAe,aAHjC;AAIE,IAAA,QAAQ,EAAES,YAJZ;AAKE,IAAA,YAAY,EAAEM,sBALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,eAgBE,oBAAC,gBAAD;AACE,IAAA,IAAI,EAAEnB,WADR;AAEE,IAAA,KAAK,EAAEC,UAFT;AAGE,IAAA,QAAQ,EAAEG,UAAU,GAAG,SAAH,GAAe,aAHrC;AAIE,IAAA,SAAS,EAAEA,UAAU,GAAG,cAAH,GAAoB,kBAJ3C;AAKE,IAAA,OAAO,EAAEgB,iBALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,eAuBE,oBAAC,UAAD;AACE,IAAA,IAAI,EAAC,YADP;AAEE,IAAA,IAAI,EAAEnB,UAFR;AAGE,IAAA,IAAI,EAAEG,UAAU,GAAG,cAAH,GAAoB,kBAHtC;AAIE,IAAA,QAAQ,EAAES,YAJZ;AAKE,IAAA,YAAY,EAAEM,sBALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,CA7FF,CADF;AA+HD;;AAED,eAAepC,mBAAf","sourcesContent":["import React, { ChangeEvent, Fragment, useMemo } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { FormControlLabel, MenuItem, Select, Switch } from \"@material-ui/core\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  CustomChangeEvent,\r\n  MediaHotspotItem,\r\n  MediaFile,\r\n  MediaHotspot,\r\n  ComponentAction,\r\n  ActionStyle,\r\n} from \"types\";\r\nimport { AcceptedFileTypes, Positions, StyleListTypes } from \"editor-constants\";\r\nimport { hasSameHotspotItemStyles, updateObject } from \"utils\";\r\nimport { BlmPosition } from \"shared\";\r\nimport { BlmMediaPicker } from \"components/shared\";\r\nimport { BlmRichTextEditor } from \"components/component-editor\";\r\nimport { useContentEditorCtx } from \"components/content-editor/core\";\r\nimport {\r\n  applyHotspotActionStyles,\r\n  applyHotspotItemStyles,\r\n} from \"components/content-editor/reducers\";\r\nimport { BlmStylePicker } from \"../../../styles\";\r\n\r\nimport BlmActions, { BlmSwitchActions } from \"../../../actions\";\r\n\r\nimport \"./styles.scss\";\r\n\r\n\r\nexport interface HotspotItemProps {\r\n  type?: \"standard\" | \"panorama\";\r\n  data: MediaHotspot;\r\n  item: MediaHotspotItem;\r\n  isLinked?: boolean;\r\n  onChange?: (data: MediaHotspot) => void;\r\n}\r\n\r\nconst SIZES = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\r\n\r\nfunction BlmHotspotItemProps(props: HotspotItemProps) {\r\n  const { type = \"standard\", data, item, isLinked, onChange } = props;\r\n  const { items, groups } = data;\r\n  const {\r\n    id,\r\n    name,\r\n    groupId,\r\n    media,\r\n    position,\r\n    size,\r\n    hasDark,\r\n    style,\r\n    clickAction,\r\n    overAction,\r\n  } = item;\r\n  const { element } = useContentEditorCtx();\r\n  const { t } = useTranslation(\"content-editor\");\r\n  const isStandard = type === \"standard\";\r\n  const styleType = isStandard\r\n    ? element?.isSummary\r\n      ? StyleListTypes.MediaHotspotItemSummary\r\n      : StyleListTypes.MediaHotspotItem\r\n    : StyleListTypes.MediaHotspotItem360;\r\n\r\n  const showApplyIcon = useMemo(() => {\r\n    return hasSameHotspotItemStyles(data);\r\n  }, [data]);\r\n\r\n  const updateChange = (newData: MediaHotspot) => {\r\n    if (onChange) {\r\n      onChange(newData);\r\n    }\r\n  };\r\n\r\n  const handleChange = (\r\n    event:\r\n      | ChangeEvent<any>\r\n      | CustomChangeEvent<MediaFile | ComponentAction | Positions | string | undefined>\r\n  ) => {\r\n    const target = event.target;\r\n    const name = target.name as string;\r\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\r\n    let newData: MediaHotspot | undefined;\r\n\r\n    if (\r\n      name === \"name\" ||\r\n      name === \"groupId\" ||\r\n      name === \"media\" ||\r\n      name === \"style\" ||\r\n      name === \"position\" ||\r\n      name === \"size\" ||\r\n      name === \"hasDark\" ||\r\n      name === \"callToAction\" ||\r\n      name === \"clickAction\" ||\r\n      name === \"overAction\"\r\n    ) {\r\n      newData = {\r\n        ...data,\r\n        items: updateObject(items, \"id\", id, { [name]: value }),\r\n      };\r\n\r\n      if (name === \"style\") {\r\n        newData.style = value;\r\n      }\r\n    }\r\n\r\n    if (newData) {\r\n      updateChange(newData);\r\n    }\r\n  };\r\n\r\n  const handleApplyClick = (style: string) => {\r\n    const newData = applyHotspotItemStyles(data, style);\r\n\r\n    updateChange(newData);\r\n  };\r\n\r\n  const handleActionApplyStyle = (event: CustomChangeEvent<ActionStyle>) => {\r\n    const { name, value } = event.target;\r\n\r\n    if (item && (name === \"clickAction\" || name === \"overAction\")) {\r\n      const newData = applyHotspotActionStyles(data, value, item[name]);\r\n\r\n      updateChange(newData);\r\n    }\r\n  };\r\n\r\n  const handleSwitchClick = () => {\r\n    if (item) {\r\n      const newData = {\r\n        ...data,\r\n        items: updateObject(items, \"id\", id, {\r\n          clickAction: overAction,\r\n          overAction: clickAction,\r\n        }),\r\n      };\r\n\r\n      updateChange(newData);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={clsx(\"hotspot-item-props-wrapper\", type)}>\r\n      <div className=\"hotspot-flex-cont1\">\r\n        <Select\r\n          name=\"groupId\"\r\n          value={groupId || \"\"}\r\n          displayEmpty\r\n          disabled={!groups.enabled}\r\n          className=\"hotspot-item-group-dropdown\"\r\n          onChange={handleChange}\r\n        >\r\n          <MenuItem value=\"\">{t(\"hotspot.select_group\")}</MenuItem>\r\n          {groups.items.map((item) => (\r\n            <MenuItem key={item.id} value={item.id}>\r\n              {item.name}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </div>\r\n      <div className=\"hotspot-flex-cont2\">\r\n        <div className=\"hotspot-flex-inner-cont1\">\r\n          <BlmStylePicker\r\n            type={styleType}\r\n            name=\"style\"\r\n            value={style}\r\n            label={t(\"hotspot.apply_hotspot\")}\r\n            showApplyIcon={showApplyIcon}\r\n            onChange={handleChange}\r\n            onApplyClick={handleApplyClick}\r\n          />\r\n        </div>\r\n        <div className=\"hotspot-flex-inner-cont2\">\r\n          <div className=\"hotspot-cont2-contain\">\r\n            <div className=\"hotspot-cont2-item1\">\r\n              <BlmMediaPicker\r\n                name=\"media\"\r\n                elementId={element!.id}\r\n                acceptedFiles={[AcceptedFileTypes.Image]}\r\n                data={media}\r\n                isLinked={isLinked}\r\n                className=\"hotspot-item-image-picker\"\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n            <div className=\"hotspot-cont2-item2\">\r\n              <div className=\"hotspot-cont2-item2-subitem\">\r\n                <div className=\"hotspot-cont2-item2-subitem1\">\r\n                  <div className=\"hotspot-item-size-lbl\">{t(\"hotspot.size\")}</div>\r\n                </div>\r\n                <div className=\"hotspot-cont2-item2-subitem2\">\r\n                  {isStandard && (\r\n                    <Fragment>\r\n                      <Select\r\n                        name=\"size\"\r\n                        value={size}\r\n                        className=\"hotspot-item-size-dropdown\"\r\n                        onChange={handleChange}\r\n                      >\r\n                        {SIZES.map((item) => (\r\n                          <MenuItem key={item} value={item}>\r\n                            {item}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </Fragment>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"hotspot-cont2-item3\">\r\n              <BlmPosition name=\"position\" value={position} onChange={handleChange} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"hotspot-flex-inner-cont3\">\r\n          <BlmRichTextEditor\r\n            key={id}\r\n            name=\"name\"\r\n            value={name}\r\n            className=\"hotspot-item-name-txt\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"hotspot-item-theme-box\">\r\n        <FormControlLabel\r\n          name=\"hasDark\"\r\n          label={hasDark ? t(\"label.dark\") : t(\"label.light\")}\r\n          control={<Switch className=\"switch-2\" />}\r\n          checked={hasDark}\r\n          className=\"hotspot-item-dark-switch-ctrl\"\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n      <div className=\"hotspot-item-actions-wrapper\">\r\n        <div className=\"hotspot-item-actions-title\">{t(\"label.action\")}</div>\r\n        <div className=\"hotspot-item-actions-lbl\">\r\n          {t(\"label.on\")} <span className=\"hotspot-item-actions-bold-lbl\">{t(\"label.click\")}</span>\r\n        </div>\r\n        <div className=\"hotspot-item-actions-lbl\">\r\n          {t(\"label.on\")}{\" \"}\r\n          <span className=\"hotspot-item-actions-bold-lbl\">{t(\"label.roll_over\")}</span>\r\n        </div>\r\n        <BlmActions\r\n          name=\"clickAction\"\r\n          data={clickAction}\r\n          type={isStandard ? \"hotspot\" : \"hotspot-360\"}\r\n          onChange={handleChange}\r\n          onApplyStyle={handleActionApplyStyle}\r\n        />\r\n        <BlmSwitchActions\r\n          left={clickAction}\r\n          right={overAction}\r\n          leftType={isStandard ? \"hotspot\" : \"hotspot-360\"}\r\n          rightType={isStandard ? \"hotspot-over\" : \"hotspot-360-over\"}\r\n          onClick={handleSwitchClick}\r\n        />\r\n        <BlmActions\r\n          name=\"overAction\"\r\n          data={overAction}\r\n          type={isStandard ? \"hotspot-over\" : \"hotspot-360-over\"}\r\n          onChange={handleChange}\r\n          onApplyStyle={handleActionApplyStyle}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlmHotspotItemProps;\r\n"]},"metadata":{},"sourceType":"module"}