{"ast":null,"code":"import { QuestionFeedbackTypes, TemplateEditorOptionTypes } from \"editor-constants\";\nimport { isQuestionPropositions } from \"utils\";\nimport { getHTMLElement, setBLMElementBy } from \"../../core\";\nimport { setTextComponent, setQuestionMediaComponent, setQuestionSoundComponent, setSimpleContentComponent } from \"../component\";\nexport function setQuestionFeedbackHTML(root, feedback, main) {\n  const {\n    type,\n    global,\n    detailed: {\n      rightId,\n      wrongId,\n      display\n    }\n  } = feedback;\n  const element = getHTMLElement(root, \"[id='feedback']\");\n  const options = {\n    feedbacktype: getFeedbackType(type, main),\n    simplecontent: {\n      simplecontenttrue: rightId === TemplateEditorOptionTypes.None ? undefined : rightId,\n      simplecontentfalse: wrongId === TemplateEditorOptionTypes.None ? undefined : wrongId,\n      display\n    }\n  };\n  setBLMElementBy(root, \"[id='feedback']\", {\n    options\n  });\n\n  if (element) {\n    setGlobalFeedbackHTML(element, global);\n  }\n}\n\nfunction getFeedbackType(type, main) {\n  var _main$content$value;\n\n  if (isQuestionPropositions(main.content) && ((_main$content$value = main.content.value) === null || _main$content$value === void 0 ? void 0 : _main$content$value.isMCQ) && type === QuestionFeedbackTypes.Propositions) {\n    return QuestionFeedbackTypes.None;\n  } else {\n    return type;\n  }\n}\n\nfunction setGlobalFeedbackHTML(parent, global) {\n  const {\n    right,\n    wrong\n  } = global;\n  setGlobalFeedbackItemHTML(parent, right, true);\n  setGlobalFeedbackItemHTML(parent, wrong, false);\n}\n\nfunction setGlobalFeedbackItemHTML(parent, item, isRight) {\n  const {\n    title,\n    text,\n    media,\n    sound,\n    simpleContent\n  } = item;\n\n  if (isRight) {\n    setTextComponent(parent, \"[blm-value='feedbacktitleright']\", title);\n    setTextComponent(parent, \"[blm-value='feedbacktextright']\", text);\n    setQuestionMediaComponent(parent, \"[blm-value='mediafeedbackright']\", media);\n    setQuestionSoundComponent(parent, \"[blm-value='soundfeedbackright']\", sound);\n    setSimpleContentComponent(parent, \"[blm-value='knowmorefeedbackright']\", simpleContent);\n  } else {\n    setTextComponent(parent, \"[blm-value='feedbacktitlewrong']\", title);\n    setTextComponent(parent, \"[blm-value='feedbacktextwrong']\", text);\n    setQuestionMediaComponent(parent, \"[blm-value='mediafeedbackwrong']\", media);\n    setQuestionSoundComponent(parent, \"[blm-value='soundfeedbackwrong']\", sound);\n    setSimpleContentComponent(parent, \"[blm-value='knowmorefeedbackwrong']\", simpleContent);\n  }\n}","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/template-builders/html/question/feedback.ts"],"names":["QuestionFeedbackTypes","TemplateEditorOptionTypes","isQuestionPropositions","getHTMLElement","setBLMElementBy","setTextComponent","setQuestionMediaComponent","setQuestionSoundComponent","setSimpleContentComponent","setQuestionFeedbackHTML","root","feedback","main","type","global","detailed","rightId","wrongId","display","element","options","feedbacktype","getFeedbackType","simplecontent","simplecontenttrue","None","undefined","simplecontentfalse","setGlobalFeedbackHTML","content","value","isMCQ","Propositions","parent","right","wrong","setGlobalFeedbackItemHTML","item","isRight","title","text","media","sound","simpleContent"],"mappings":"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","sourcesContent":["import {\r\n  QuestionFeedback,\r\n  QuestionGlobalFeedback,\r\n  QuestionGlobalFeedbackItem,\r\n  QuestionMain,\r\n  QuizFeedbackOptionsJSON,\r\n} from \"types\";\r\nimport { QuestionFeedbackTypes, TemplateEditorOptionTypes } from \"editor-constants\";\r\nimport { isQuestionPropositions } from \"utils\";\r\nimport { getHTMLElement, setBLMElementBy } from \"../../core\";\r\nimport {\r\n  setTextComponent,\r\n  setQuestionMediaComponent,\r\n  setQuestionSoundComponent,\r\n  setSimpleContentComponent,\r\n} from \"../component\";\r\n\r\nexport function setQuestionFeedbackHTML(\r\n  root: HTMLElement,\r\n  feedback: QuestionFeedback,\r\n  main: QuestionMain\r\n) {\r\n  const {\r\n    type,\r\n    global,\r\n    detailed: { rightId, wrongId, display },\r\n  } = feedback;\r\n  const element = getHTMLElement(root, \"[id='feedback']\");\r\n  const options: QuizFeedbackOptionsJSON = {\r\n    feedbacktype: getFeedbackType(type, main),\r\n    simplecontent: {\r\n      simplecontenttrue: rightId === TemplateEditorOptionTypes.None ? undefined : rightId,\r\n      simplecontentfalse: wrongId === TemplateEditorOptionTypes.None ? undefined : wrongId,\r\n      display,\r\n    },\r\n  };\r\n\r\n  setBLMElementBy(root, \"[id='feedback']\", { options });\r\n\r\n  if (element) {\r\n    setGlobalFeedbackHTML(element, global);\r\n  }\r\n}\r\n\r\nfunction getFeedbackType(type: QuestionFeedbackTypes, main: QuestionMain) {\r\n  if (\r\n    isQuestionPropositions(main.content) &&\r\n    main.content.value?.isMCQ &&\r\n    type === QuestionFeedbackTypes.Propositions\r\n  ) {\r\n    return QuestionFeedbackTypes.None;\r\n  } else {\r\n    return type;\r\n  }\r\n}\r\n\r\nfunction setGlobalFeedbackHTML(parent: HTMLElement, global: QuestionGlobalFeedback) {\r\n  const { right, wrong } = global;\r\n\r\n  setGlobalFeedbackItemHTML(parent, right, true);\r\n  setGlobalFeedbackItemHTML(parent, wrong, false);\r\n}\r\n\r\nfunction setGlobalFeedbackItemHTML(\r\n  parent: HTMLElement,\r\n  item: QuestionGlobalFeedbackItem,\r\n  isRight: boolean\r\n) {\r\n  const { title, text, media, sound, simpleContent } = item;\r\n\r\n  if (isRight) {\r\n    setTextComponent(parent, \"[blm-value='feedbacktitleright']\", title);\r\n    setTextComponent(parent, \"[blm-value='feedbacktextright']\", text);\r\n    setQuestionMediaComponent(parent, \"[blm-value='mediafeedbackright']\", media);\r\n    setQuestionSoundComponent(parent, \"[blm-value='soundfeedbackright']\", sound);\r\n    setSimpleContentComponent(parent, \"[blm-value='knowmorefeedbackright']\", simpleContent);\r\n  } else {\r\n    setTextComponent(parent, \"[blm-value='feedbacktitlewrong']\", title);\r\n    setTextComponent(parent, \"[blm-value='feedbacktextwrong']\", text);\r\n    setQuestionMediaComponent(parent, \"[blm-value='mediafeedbackwrong']\", media);\r\n    setQuestionSoundComponent(parent, \"[blm-value='soundfeedbackwrong']\", sound);\r\n    setSimpleContentComponent(parent, \"[blm-value='knowmorefeedbackwrong']\", simpleContent);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}