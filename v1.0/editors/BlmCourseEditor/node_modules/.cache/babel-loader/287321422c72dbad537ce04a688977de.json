{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\shared\\\\animation\\\\tranaslation\\\\BlmTranslationEditor.tsx\";\nimport React, { useState } from \"react\";\nimport { Drawer } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport { updateObject } from \"utils\";\nimport BlmTranslationItem from \"./item\";\nimport \"./styles.scss\";\n\nfunction BlmTranslationEditor(props) {\n  const {\n    open,\n    data,\n    onSave,\n    onClose,\n    openConfirmDialog\n  } = props;\n  const [state, setState] = useState({\n    translations: data,\n    isEdited: false\n  });\n  const {\n    translations,\n    isEdited\n  } = state;\n  const {\n    t\n  } = useTranslation(\"shared\");\n\n  const saveChanges = () => {\n    if (onSave) {\n      onSave(translations);\n    }\n  };\n\n  const handleChange = translation => {\n    if (translations) {\n      setState({\n        translations: updateObject(translations, \"id\", translation.id, translation),\n        isEdited: true\n      });\n    }\n  };\n\n  const handleSave = event => {\n    if (isEdited) {\n      saveChanges();\n    }\n\n    handleClose(event);\n  };\n\n  const openSaveConfirmDialog = () => {\n    const onOk = event => {\n      handleSave(event);\n    };\n\n    const onCancel = event => {\n      handleClose(event);\n    };\n\n    const options = {\n      className: \"template-editor-warning-dialog\",\n      okLabel: `${t(\"button.save\")}`,\n      cancelLabel: `${t(\"button.cancel\")}`\n    };\n    openConfirmDialog(`${t(\"alert.cancel_confirm\")}`, `${t(\"alert.save_all_changes\")}`, onOk, onCancel, options);\n  };\n\n  const handleDrawerClose = event => {\n    if (isEdited) {\n      openSaveConfirmDialog();\n    } else {\n      handleClose(event);\n    }\n  };\n\n  const handleClose = event => {\n    if (onClose) {\n      onClose(event);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Drawer, {\n    className: \"translation-editor-drawer\",\n    open: open,\n    onClose: handleDrawerClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-editor-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, t(\"translation_editor.translate_texts\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-close-btn\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, t(\"translation_editor.current_text\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, t(\"translation_editor.next_text\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-list custom-scrollbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, translations.map(item => /*#__PURE__*/React.createElement(BlmTranslationItem, {\n    key: item.id,\n    data: item,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-btn-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-save-btn\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, t(\"button.save\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"translation-cancel-btn\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, t(\"button.cancel\")))));\n}\n\nexport default BlmTranslationEditor;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/shared/animation/tranaslation/BlmTranslationEditor.tsx"],"names":["React","useState","Drawer","useTranslation","updateObject","BlmTranslationItem","BlmTranslationEditor","props","open","data","onSave","onClose","openConfirmDialog","state","setState","translations","isEdited","t","saveChanges","handleChange","translation","id","handleSave","event","handleClose","openSaveConfirmDialog","onOk","onCancel","options","className","okLabel","cancelLabel","handleDrawerClose","map","item"],"mappings":"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","sourcesContent":["import React, { MouseEvent, useState } from \"react\";\r\nimport { Drawer } from \"@material-ui/core\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport { AnimationTranslation } from \"types\";\r\nimport { updateObject } from \"utils\";\r\nimport BlmTranslationItem from \"./item\";\r\nimport { ContainerProps } from \"./container\";\r\nimport \"./styles.scss\";\r\n\r\nexport interface CompProps extends ContainerProps {\r\n  open: boolean;\r\n  data: AnimationTranslation[];\r\n  onSave?: (data: AnimationTranslation[]) => void;\r\n  onClose?: (event: MouseEvent) => void;\r\n}\r\n\r\nfunction BlmTranslationEditor(props: CompProps) {\r\n  const { open, data, onSave, onClose, openConfirmDialog } = props;\r\n  const [state, setState] = useState({ translations: data, isEdited: false });\r\n  const { translations, isEdited } = state;\r\n  const { t } = useTranslation(\"shared\");\r\n\r\n  const saveChanges = () => {\r\n    if (onSave) {\r\n      onSave(translations);\r\n    }\r\n  };\r\n\r\n  const handleChange = (translation: AnimationTranslation) => {\r\n    if (translations) {\r\n      setState({\r\n        translations: updateObject(translations, \"id\", translation.id, translation),\r\n        isEdited: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSave = (event: MouseEvent) => {\r\n    if (isEdited) {\r\n      saveChanges();\r\n    }\r\n\r\n    handleClose(event);\r\n  };\r\n\r\n  const openSaveConfirmDialog = () => {\r\n    const onOk = (event: MouseEvent) => {\r\n      handleSave(event);\r\n    };\r\n    const onCancel = (event: MouseEvent) => {\r\n      handleClose(event);\r\n    };\r\n    const options = {\r\n      className: \"template-editor-warning-dialog\",\r\n      okLabel: `${t(\"button.save\")}`,\r\n      cancelLabel: `${t(\"button.cancel\")}`,\r\n    };\r\n\r\n    openConfirmDialog(\r\n      `${t(\"alert.cancel_confirm\")}`,\r\n      `${t(\"alert.save_all_changes\")}`,\r\n      onOk,\r\n      onCancel,\r\n      options\r\n    );\r\n  };\r\n\r\n  const handleDrawerClose = (event: any) => {\r\n    if (isEdited) {\r\n      openSaveConfirmDialog();\r\n    } else {\r\n      handleClose(event);\r\n    }\r\n  };\r\n\r\n  const handleClose = (event: MouseEvent) => {\r\n    if (onClose) {\r\n      onClose(event);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Drawer className=\"translation-editor-drawer\" open={open} onClose={handleDrawerClose}>\r\n      <div className=\"translation-editor-wrapper\">\r\n        <div className=\"translation-title\">{t(\"translation_editor.translate_texts\")}</div>\r\n        <div className=\"translation-close-btn\" onClick={handleClose} />\r\n        <div className=\"translation-header\">\r\n          <span>{t(\"translation_editor.current_text\")}</span>\r\n        </div>\r\n        <div className=\"translation-header\">\r\n          <span>{t(\"translation_editor.next_text\")}</span>\r\n        </div>\r\n        <div className=\"translation-list custom-scrollbar\">\r\n          {translations.map((item) => (\r\n            <BlmTranslationItem key={item.id} data={item} onChange={handleChange} />\r\n          ))}\r\n        </div>\r\n        <div className=\"translation-btn-wrapper\">\r\n          <div className=\"translation-save-btn\" onClick={handleSave}>\r\n            {t(\"button.save\")}\r\n          </div>\r\n          <div className=\"translation-cancel-btn\" onClick={handleClose}>\r\n            {t(\"button.cancel\")}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Drawer>\r\n  );\r\n}\r\n\r\nexport default BlmTranslationEditor;\r\n"]},"metadata":{},"sourceType":"module"}