{"ast":null,"code":"import { isQuestionCustom, isQuestionPropositions } from \"utils\";\nimport { setQuestionTemplateHTML } from \"../html\";\nimport { getQuestionTemplateModel } from \"../model\";\nexport function copyQuestionTemplate(source, destination) {\n  if (source && destination) {\n    const question = getQuestionTemplateModel(source);\n    const newQuestion = getQuestionTemplateModel(destination);\n    copyIntroduction(question.introduction, newQuestion.introduction);\n    copyMain(question.main, newQuestion.main);\n    copyFeedback(question.feedback, newQuestion.feedback);\n    copyQuestionParameters(question.parameters, newQuestion.parameters);\n\n    if (newQuestion.main.content) {\n      var _question$main, _question$main$conten, _newQuestion$main$con;\n\n      newQuestion.main.content.value = removeDeletedProposition(question === null || question === void 0 ? void 0 : (_question$main = question.main) === null || _question$main === void 0 ? void 0 : (_question$main$conten = _question$main.content) === null || _question$main$conten === void 0 ? void 0 : _question$main$conten.value, (_newQuestion$main$con = newQuestion.main.content) === null || _newQuestion$main$con === void 0 ? void 0 : _newQuestion$main$con.value);\n    }\n\n    return setQuestionTemplateHTML(destination, newQuestion);\n  }\n\n  return source.html;\n}\n\nfunction removeDeletedProposition(oldProposition, newPropositon) {\n  const {\n    items: srcItems\n  } = oldProposition;\n  const {\n    items: desItems\n  } = newPropositon;\n  var newQuestion = { ...newPropositon\n  };\n  newQuestion.items = [];\n\n  for (var i = 0; i < srcItems.length; i++) {\n    newQuestion.items.push(desItems[i]);\n  }\n\n  return newQuestion;\n}\n\nfunction copyIntroduction(source, destination) {\n  const {\n    media: srcMedia\n  } = source;\n  const {\n    media: desMedia\n  } = destination;\n  destination.introduction = source.introduction;\n  desMedia.title.value = srcMedia.title.value;\n  desMedia.text.value = srcMedia.text.value;\n  desMedia.media.value = srcMedia.media.value;\n  desMedia.sound.value = srcMedia.sound.value;\n  desMedia.display = { ...srcMedia.display\n  };\n  destination.simpleContentId = source.simpleContentId;\n}\n\nfunction copyMain(source, destination) {\n  const {\n    content: srcContent\n  } = source;\n  const {\n    content: desContent\n  } = destination;\n  destination.title.value = source.title.value;\n  destination.text.value = source.text.value;\n  destination.media.value = source.media.value;\n  destination.sound.value = source.sound.value;\n  destination.simpleContent.value = source.simpleContent.value;\n  destination.instruction.value = source.instruction.value;\n  destination.validate.checked = source.validate.checked;\n\n  if (isQuestionPropositions(srcContent) && isQuestionPropositions(desContent) && srcContent.value && desContent.value) {\n    copyPropositoions(srcContent.value, desContent.value);\n  } else if (isQuestionCustom(srcContent) && isQuestionCustom(desContent)) {\n    copyCustom(srcContent, desContent);\n  }\n}\n\nfunction copyPropositoions(source, destination) {\n  const {\n    items: srcItems\n  } = source;\n  const {\n    items: desItems\n  } = destination;\n  const srcLen = srcItems.length;\n  const desLen = desItems.length;\n  destination.isMCQ = source.isMCQ;\n  destination.randomize = source.randomize;\n\n  for (let i = 0; i < srcLen; i++) {\n    const srcItem = srcItems[i];\n    let desItem;\n\n    if (desLen > i) {\n      desItem = desItems[i];\n    } else {\n      desItem = { ...srcItem\n      };\n      desItems.push(desItem);\n    }\n\n    copyProposition(srcItem, desItem);\n  }\n}\n\nfunction copyProposition(source, destination) {\n  const {\n    info: {\n      value: srcInfo\n    }\n  } = source;\n  const {\n    info: {\n      value: desInfo\n    }\n  } = destination;\n  destination.title.value = source.title.value;\n  destination.text.value = source.text.value;\n  destination.validity.value = source.validity.value;\n  destination.media.value = source.media.value;\n  destination.sound.value = source.sound.value;\n\n  if (srcInfo && desInfo) {\n    copyPropositionInfo(srcInfo, desInfo);\n  }\n\n  copyPropositionFeedback(source.feedback, destination.feedback);\n}\n\nfunction copyPropositionInfo(source, destination) {\n  const {\n    simple: srcSimple\n  } = source;\n  const {\n    simple: desSimple\n  } = destination;\n  destination.type = source.type;\n  desSimple.title.value = srcSimple.title.value;\n  desSimple.text.value = srcSimple.text.value;\n  destination.simpleContentId = source.simpleContentId;\n}\n\nfunction copyPropositionFeedback(source, destination) {\n  destination.title.value = source.title.value;\n  destination.text.value = source.text.value;\n  destination.media.value = source.media.value;\n  destination.sound.value = source.sound.value;\n}\n\nfunction copyCustom(source, destination) {\n  destination.format = source.format;\n  destination.value = source.value;\n}\n\nfunction copyFeedback(source, destination) {\n  destination.type = source.type;\n  copyGlobalFeedback(source.global, destination.global);\n  copyDetailedFeedback(source.detailed, destination.detailed);\n}\n\nfunction copyGlobalFeedback(source, destination) {\n  copyGlobalFeedbackItem(source.right, destination.right);\n  copyGlobalFeedbackItem(source.wrong, destination.wrong);\n}\n\nfunction copyGlobalFeedbackItem(source, destination) {\n  destination.title.value = source.title.value;\n  destination.text.value = source.text.value;\n  destination.media.value = source.media.value;\n  destination.sound.value = source.sound.value;\n  destination.simpleContent.value = source.simpleContent.value;\n}\n\nfunction copyDetailedFeedback(source, destination) {\n  destination.rightId = source.rightId;\n  destination.wrongId = source.wrongId;\n  destination.display = source.display;\n}\n\nfunction copyQuestionParameters(source, destination) {\n  destination.relatedTo = source.relatedTo;\n  destination.mandatory = source.mandatory;\n  destination.eliminatory = source.eliminatory;\n  destination.useforscoring = source.useforscoring;\n  destination.timer = source.timer;\n}","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/template-builders/swap/question.ts"],"names":["isQuestionCustom","isQuestionPropositions","setQuestionTemplateHTML","getQuestionTemplateModel","copyQuestionTemplate","source","destination","question","newQuestion","copyIntroduction","introduction","copyMain","main","copyFeedback","feedback","copyQuestionParameters","parameters","content","value","removeDeletedProposition","html","oldProposition","newPropositon","items","srcItems","desItems","i","length","push","media","srcMedia","desMedia","title","text","sound","display","simpleContentId","srcContent","desContent","simpleContent","instruction","validate","checked","copyPropositoions","copyCustom","srcLen","desLen","isMCQ","randomize","srcItem","desItem","copyProposition","info","srcInfo","desInfo","validity","copyPropositionInfo","copyPropositionFeedback","simple","srcSimple","desSimple","type","format","copyGlobalFeedback","global","copyDetailedFeedback","detailed","copyGlobalFeedbackItem","right","wrong","rightId","wrongId","relatedTo","mandatory","eliminatory","useforscoring","timer"],"mappings":"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","sourcesContent":["import {\r\n  QuestionFeedback,\r\n  QuestionGlobalFeedback,\r\n  QuestionGlobalFeedbackItem,\r\n  QuestionDetailedFeedback,\r\n  QuestionIntroduction,\r\n  QuestionMain,\r\n  QuestionParameters,\r\n  QuestionProposition,\r\n  QuestionPropositionFeedback,\r\n  QuestionPropositionInfo,\r\n  QuestionPropositions,\r\n  CourseElementTemplate,\r\n  QuestionCustomComponent,\r\n} from \"types\";\r\nimport { isQuestionCustom, isQuestionPropositions } from \"utils\";\r\nimport { setQuestionTemplateHTML } from \"../html\";\r\nimport { getQuestionTemplateModel } from \"../model\";\r\n\r\nexport function copyQuestionTemplate(\r\n  source: CourseElementTemplate,\r\n  destination: CourseElementTemplate\r\n) {\r\n  if (source && destination) {\r\n    const question = getQuestionTemplateModel(source);\r\n    const newQuestion = getQuestionTemplateModel(destination);\r\n\r\n    copyIntroduction(question.introduction, newQuestion.introduction);\r\n    copyMain(question.main, newQuestion.main);\r\n    copyFeedback(question.feedback, newQuestion.feedback);\r\n    copyQuestionParameters(question.parameters, newQuestion.parameters);\r\n\r\n    if (newQuestion.main.content) {\r\n      newQuestion.main.content.value = removeDeletedProposition(\r\n        question?.main?.content?.value,\r\n        newQuestion.main.content?.value\r\n      );\r\n    }\r\n\r\n    return setQuestionTemplateHTML(destination, newQuestion);\r\n  }\r\n  return source.html;\r\n}\r\n\r\nfunction removeDeletedProposition(oldProposition: any, newPropositon: any) {\r\n  const { items: srcItems } = oldProposition;\r\n  const { items: desItems } = newPropositon;\r\n  var newQuestion = { ...newPropositon };\r\n  newQuestion.items = [];\r\n  for (var i = 0; i < srcItems.length; i++) {\r\n    newQuestion.items.push(desItems[i]);\r\n  }\r\n\r\n  return newQuestion;\r\n}\r\n\r\nfunction copyIntroduction(source: QuestionIntroduction, destination: QuestionIntroduction) {\r\n  const { media: srcMedia } = source;\r\n  const { media: desMedia } = destination;\r\n\r\n  destination.introduction = source.introduction;\r\n\r\n  desMedia.title.value = srcMedia.title.value;\r\n  desMedia.text.value = srcMedia.text.value;\r\n  desMedia.media.value = srcMedia.media.value;\r\n  desMedia.sound.value = srcMedia.sound.value;\r\n  desMedia.display = { ...srcMedia.display };\r\n\r\n  destination.simpleContentId = source.simpleContentId;\r\n}\r\n\r\nfunction copyMain(source: QuestionMain, destination: QuestionMain) {\r\n  const { content: srcContent } = source;\r\n  const { content: desContent } = destination;\r\n\r\n  destination.title.value = source.title.value;\r\n  destination.text.value = source.text.value;\r\n  destination.media.value = source.media.value;\r\n  destination.sound.value = source.sound.value;\r\n  destination.simpleContent.value = source.simpleContent.value;\r\n  destination.instruction.value = source.instruction.value;\r\n  destination.validate.checked = source.validate.checked;\r\n\r\n  if (\r\n    isQuestionPropositions(srcContent) &&\r\n    isQuestionPropositions(desContent) &&\r\n    srcContent.value &&\r\n    desContent.value\r\n  ) {\r\n    copyPropositoions(srcContent.value, desContent.value);\r\n  } else if (isQuestionCustom(srcContent) && isQuestionCustom(desContent)) {\r\n    copyCustom(srcContent, desContent);\r\n  }\r\n}\r\n\r\nfunction copyPropositoions(source: QuestionPropositions, destination: QuestionPropositions) {\r\n  const { items: srcItems } = source;\r\n  const { items: desItems } = destination;\r\n  const srcLen = srcItems.length;\r\n  const desLen = desItems.length;\r\n\r\n  destination.isMCQ = source.isMCQ;\r\n  destination.randomize = source.randomize;\r\n\r\n  for (let i = 0; i < srcLen; i++) {\r\n    const srcItem = srcItems[i];\r\n    let desItem;\r\n    if (desLen > i) {\r\n      desItem = desItems[i];\r\n    } else {\r\n      desItem = { ...srcItem };\r\n      desItems.push(desItem);\r\n    }\r\n\r\n    copyProposition(srcItem, desItem);\r\n  }\r\n}\r\n\r\nfunction copyProposition(source: QuestionProposition, destination: QuestionProposition) {\r\n  const {\r\n    info: { value: srcInfo },\r\n  } = source;\r\n\r\n  const {\r\n    info: { value: desInfo },\r\n  } = destination;\r\n\r\n  destination.title.value = source.title.value;\r\n  destination.text.value = source.text.value;\r\n  destination.validity.value = source.validity.value;\r\n  destination.media.value = source.media.value;\r\n  destination.sound.value = source.sound.value;\r\n\r\n  if (srcInfo && desInfo) {\r\n    copyPropositionInfo(srcInfo, desInfo);\r\n  }\r\n\r\n  copyPropositionFeedback(source.feedback, destination.feedback);\r\n}\r\n\r\nfunction copyPropositionInfo(\r\n  source: QuestionPropositionInfo,\r\n  destination: QuestionPropositionInfo\r\n) {\r\n  const { simple: srcSimple } = source;\r\n  const { simple: desSimple } = destination;\r\n\r\n  destination.type = source.type;\r\n\r\n  desSimple.title.value = srcSimple.title.value;\r\n  desSimple.text.value = srcSimple.text.value;\r\n  destination.simpleContentId = source.simpleContentId;\r\n}\r\n\r\nfunction copyPropositionFeedback(\r\n  source: QuestionPropositionFeedback,\r\n  destination: QuestionPropositionFeedback\r\n) {\r\n  destination.title.value = source.title.value;\r\n  destination.text.value = source.text.value;\r\n  destination.media.value = source.media.value;\r\n  destination.sound.value = source.sound.value;\r\n}\r\n\r\nfunction copyCustom(source: QuestionCustomComponent, destination: QuestionCustomComponent) {\r\n  destination.format = source.format;\r\n  destination.value = source.value;\r\n}\r\n\r\nfunction copyFeedback(source: QuestionFeedback, destination: QuestionFeedback) {\r\n  destination.type = source.type;\r\n\r\n  copyGlobalFeedback(source.global, destination.global);\r\n  copyDetailedFeedback(source.detailed, destination.detailed);\r\n}\r\n\r\nfunction copyGlobalFeedback(source: QuestionGlobalFeedback, destination: QuestionGlobalFeedback) {\r\n  copyGlobalFeedbackItem(source.right, destination.right);\r\n  copyGlobalFeedbackItem(source.wrong, destination.wrong);\r\n}\r\n\r\nfunction copyGlobalFeedbackItem(\r\n  source: QuestionGlobalFeedbackItem,\r\n  destination: QuestionGlobalFeedbackItem\r\n) {\r\n  destination.title.value = source.title.value;\r\n  destination.text.value = source.text.value;\r\n  destination.media.value = source.media.value;\r\n  destination.sound.value = source.sound.value;\r\n  destination.simpleContent.value = source.simpleContent.value;\r\n}\r\n\r\nfunction copyDetailedFeedback(\r\n  source: QuestionDetailedFeedback,\r\n  destination: QuestionDetailedFeedback\r\n) {\r\n  destination.rightId = source.rightId;\r\n  destination.wrongId = source.wrongId;\r\n  destination.display = source.display;\r\n}\r\n\r\nfunction copyQuestionParameters(source: QuestionParameters, destination: QuestionParameters) {\r\n  destination.relatedTo = source.relatedTo;\r\n  destination.mandatory = source.mandatory;\r\n  destination.eliminatory = source.eliminatory;\r\n  destination.useforscoring = source.useforscoring;\r\n  destination.timer = source.timer;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}