{"ast":null,"code":"/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall draft_js\n * @preventMunge\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() {\n  _extends = _assign ? _assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditorCompositionHandler = require(\"./DraftEditorCompositionHandler\");\n\nvar DraftEditorContents = require(\"./DraftEditorContents.react\");\n\nvar DraftEditorDragHandler = require(\"./DraftEditorDragHandler\");\n\nvar DraftEditorEditHandler = require(\"./DraftEditorEditHandler\");\n\nvar flushControlled = require(\"./DraftEditorFlushControlled\");\n\nvar DraftEditorPlaceholder = require(\"./DraftEditorPlaceholder.react\");\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar gkx = require(\"./gkx\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar React = require(\"react\");\n\nvar isIE = UserAgent.isBrowser('IE'); // IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\n\nvar allowSpellCheck = !isIE; // Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\n\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\nvar didInitODS = false;\n\nvar UpdateDraftEditorFlags = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(UpdateDraftEditorFlags, _React$Component);\n\n  function UpdateDraftEditorFlags() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UpdateDraftEditorFlags.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._update();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._update();\n  };\n\n  _proto._update = function _update() {\n    var editor = this.props.editor;\n    /**\n     * Sometimes a render triggers a 'focus' or other event, and that will\n     * schedule a second render pass.\n     * In order to make sure the second render pass gets the latest editor\n     * state, we update it here.\n     * Example:\n     * render #1\n     * +\n     * |\n     * | cWU -> Nothing ... latestEditorState = STALE_STATE :(\n     * |\n     * | render -> this.props.editorState = FRESH_STATE\n     * | +         *and* set latestEditorState = FRESH_STATE\n     *   |\n     * | |\n     * | +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState\n     * |                                                +\n     * |                                                |\n     * +>cdU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2\n     *                                                  | with latestEditorState, which is FRESH_STATE\n     *                                                  |\n     * render #2 <--------------------------------------+\n     * +\n     * |\n     * | cwU -> nothing updates\n     * |\n     * | render -> this.props.editorState = FRESH_STATE which was passed in above\n     * |\n     * +>cdU fires and resets latestEditorState = FRESH_STATE\n     * ---\n     * Note that if we don't set latestEditorState in 'render' in the above\n     * diagram, then STALE_STATE gets passed to render #2.\n     */\n\n    editor._latestEditorState = this.props.editorState;\n    /**\n     * The reason we set this 'blockSelectEvents' flag is that  IE will fire a\n     * 'selectionChange' event when we programmatically change the selection,\n     * meaning it would trigger a new select event while we are in the middle\n     * of updating.\n     * We found that the 'selection.addRange' was what triggered the stray\n     * selectionchange event in IE.\n     * To be clear - we have not been able to reproduce specific bugs related\n     * to this stray selection event, but have recorded logs that some\n     * conditions do cause it to get bumped into during editOnSelect.\n     */\n\n    editor._blockSelectEvents = true;\n  };\n\n  return UpdateDraftEditorFlags;\n}(React.Component);\n\nvar EDITOR_ID_PLACEHOLDER = '{{editor_id_placeholder}}';\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\nvar DraftEditor = /*#__PURE__*/function (_React$Component2) {\n  _inheritsLoose(DraftEditor, _React$Component2);\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n  // See `restoreEditorDOM()`.\n\n\n  function DraftEditor(props) {\n    var _this;\n\n    _this = _React$Component2.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_blockSelectEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_clipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragCount\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_internalDrag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_editorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_placeholderAccessibilityID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestCommittedEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_pendingStateFromBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBlur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCharacterData\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCopy\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCut\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragOver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyPress\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editor\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editorContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getEditorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      contentsKey: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleEditorContainerRef\", function (node) {\n      _this.editorContainer = node; // Instead of having a direct ref on the child, we'll grab it here.\n      // This is safe as long as the rendered structure is static (which it is).\n      // This lets the child support ref={props.editorRef} without merging refs.\n\n      _this.editor = node !== null ? node.firstChild : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function (scrollPosition) {\n      var editorState = _this.props.editorState;\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus({\n        preventScroll: true\n      }); // Restore scroll position\n\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      } // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n\n\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        return;\n      }\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      var _this$props = _this.props,\n          onPaste = _this$props.onPaste,\n          onCut = _this$props.onCut,\n          onCopy = _this$props.onCopy;\n\n      var editHandler = _objectSpread({}, handlerMap.edit);\n\n      if (onPaste) {\n        /* $FlowFixMe[incompatible-type] (>=0.117.0 site=www,mobile) This comment\n         * suppresses an error found when Flow v0.117 was deployed. To see the\n         * error delete this comment and run Flow. */\n        editHandler.onPaste = onPaste;\n      }\n\n      if (onCut) {\n        editHandler.onCut = onCut;\n      }\n\n      if (onCopy) {\n        editHandler.onCopy = onCopy;\n      }\n\n      var handler = _objectSpread(_objectSpread({}, handlerMap), {}, {\n        edit: editHandler\n      });\n\n      _this._handler = handler[mode];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", function () {\n      _this.setMode('edit');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", function (scrollPosition) {\n      // Wrap state updates in `flushControlled`. In sync mode, this is\n      // effectively a no-op. In async mode, this ensures all updates scheduled\n      // inside are flushed before React yields to the browser.\n      if (flushControlled) {\n        flushControlled(function () {\n          return _this.setState({\n            contentsKey: _this.state.contentsKey + 1\n          }, function () {\n            _this.focus(scrollPosition);\n          });\n        });\n      } else {\n        _this.setState({\n          contentsKey: _this.state.contentsKey + 1\n        }, function () {\n          _this.focus(scrollPosition);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", function (clipboard) {\n      _this._clipboard = clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", function () {\n      return _this._clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (editorState) {\n      var onChange = _this.props.onChange;\n      _this._latestEditorState = editorState; // Wrap state updates in `flushControlled`. In sync mode, this is\n      // effectively a no-op. In async mode, this ensures all updates scheduled\n      // inside are flushed before React yields to the browser.\n\n      if (flushControlled) {\n        flushControlled(function () {\n          return onChange(editorState);\n        });\n      } else {\n        onChange(editorState);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this._dragCount++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this._dragCount--;\n\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    });\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      ['onDownArrow', 'onEscape', 'onLeftArrow', 'onRightArrow', 'onTab', 'onUpArrow'].forEach(function (propName) {\n        if (props.hasOwnProperty(propName)) {\n          // eslint-disable-next-line fb-www/no-console\n          console.warn(\"Supplying an `\".concat(propName, \"` prop to `DraftEditor` has \") + 'been deprecated. If your handler needs access to the keyboard ' + 'event, supply a custom `keyBindingFn` prop that falls back to ' + 'the default one (eg. https://is.gd/wHKQ3W).');\n        }\n      });\n    }\n\n    return _this;\n  }\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  var _proto2 = DraftEditor.prototype;\n\n  _proto2._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this; // Wrap event handlers in `flushControlled`. In sync mode, this is\n    // effectively a no-op. In async mode, this ensures all updates scheduled\n    // inside the handler are flushed before React yields to the browser.\n\n\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n\n        if (method) {\n          if (flushControlled) {\n            flushControlled(function () {\n              return method(_this2, e);\n            });\n          } else {\n            method(_this2, e);\n          }\n        }\n      }\n    };\n  };\n\n  _proto2._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  _proto2._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        ariaHidden: this.props.placeholderAriaHidden,\n        accessibilityID: this._placeholderAccessibilityID,\n        className: this.props.placeholderClassName,\n        editorState: this.props.editorState,\n        text: nullthrows(this.props.placeholder),\n        textAlignment: this.props.textAlignment\n      };\n      /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This comment\n       * suppresses an error found when Flow v0.112 was deployed. To see the\n       * error delete this comment and run Flow. */\n\n      return /*#__PURE__*/React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n\n    return null;\n  }\n  /**\n   * returns ariaDescribedBy prop with EDITOR_ID_PLACEHOLDER replaced with\n   * the DOM id of the placeholder (if it exists)\n   * @returns aria-describedby attribute value\n   */\n  ;\n\n  _proto2._renderARIADescribedBy = function _renderARIADescribedBy() {\n    var describedBy = this.props.ariaDescribedBy || '';\n\n    if (this.props.placeholderAriaHidden) {\n      return describedBy === EDITOR_ID_PLACEHOLDER ? undefined : describedBy;\n    }\n\n    var placeholderID = this._showPlaceholder() ? this._placeholderAccessibilityID : '';\n    return describedBy.replace(EDITOR_ID_PLACEHOLDER, placeholderID) || undefined;\n  };\n\n  _proto2.render = function render() {\n    var _this$props$ariaLabel;\n\n    var _this$props2 = this.props,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        editorState = _this$props2.editorState,\n        preventScroll = _this$props2.preventScroll,\n        readOnly = _this$props2.readOnly,\n        textAlignment = _this$props2.textAlignment,\n        textDirectionality = _this$props2.textDirectionality;\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    }; // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n\n    /* $FlowFixMe[prop-missing] (>=0.68.0 site=www,mobile) This comment\n     * suppresses an error found when Flow v0.68 was deployed. To see the error\n     * delete this comment and run Flow. */\n\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _objectSpread(_objectSpread({}, DefaultDraftInlineStyle), customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      preventScroll: preventScroll,\n      textDirectionality: textDirectionality\n    };\n    var contentClassName = this.props.contentClassName != null ? this.props.contentClassName + ' ' : '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: rootClass\n    }, this._renderPlaceholder(), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx('DraftEditor/editorContainer'),\n      ref: this._handleEditorContainerRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"aria-activedescendant\": readOnly ? null : this.props.ariaActiveDescendantID,\n      \"aria-autocomplete\": readOnly ? null : this.props.ariaAutoComplete,\n      \"aria-controls\": readOnly ? null : this.props.ariaControls,\n      \"aria-describedby\": this._renderARIADescribedBy(),\n      \"aria-expanded\": readOnly ? null : ariaExpanded,\n      \"aria-label\": (_this$props$ariaLabel = this.props.ariaLabel) !== null && _this$props$ariaLabel !== void 0 ? _this$props$ariaLabel : this.props.placeholder,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-multiline\": this.props.ariaMultiline,\n      \"aria-owns\": readOnly ? null : this.props.ariaOwneeID,\n      \"aria-required\": this.props.ariaRequired,\n      autoCapitalize: this.props.autoCapitalize,\n      autoComplete: this.props.autoComplete,\n      autoCorrect: this.props.autoCorrect,\n      className: // eslint-disable-next-line fb-www/cx-concat\n      contentClassName + cx({\n        // Chrome's built-in translation feature mutates the DOM in ways\n        // that Draft doesn't expect (ex: adding <font> tags inside\n        // DraftEditorLeaf spans) and causes problems. We add notranslate\n        // here which makes its autotranslation skip over this subtree.\n        notranslate: !readOnly,\n        'public/DraftEditor/content': true\n      }),\n      contentEditable: !readOnly,\n      \"data-testid\": this.props.webDriverTestID,\n      onBeforeInput: this._onBeforeInput,\n      onBlur: this._onBlur,\n      onCompositionEnd: this._onCompositionEnd,\n      onCompositionStart: this._onCompositionStart,\n      onCopy: this._onCopy,\n      onCut: this._onCut,\n      onDragEnd: this._onDragEnd,\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this._onDragOver,\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop,\n      onFocus: this._onFocus,\n      onInput: this._onInput,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseDown: this._onMouseDown,\n      onMouseUp: this._onMouseUp,\n      onPaste: this._onPaste,\n      onSelect: this._onSelect,\n      ref: this.props.editorRef,\n      role: readOnly ? null : ariaRole,\n      spellCheck: allowSpellCheck && this.props.spellCheck,\n      style: contentStyle,\n      suppressContentEditableWarning: true,\n      tabIndex: this.props.tabIndex\n    }, /*#__PURE__*/React.createElement(UpdateDraftEditorFlags, {\n      editor: this,\n      editorState: editorState\n    }), /*#__PURE__*/React.createElement(DraftEditorContents, _extends({}, editorContentsProps, {\n      key: 'contents' + this.state.contentsKey\n    })))));\n  };\n\n  _proto2.componentDidMount = function componentDidMount() {\n    this._blockSelectEvents = false;\n\n    if (!didInitODS && gkx('draft_ods_enabled')) {\n      didInitODS = true;\n      DraftEffects.initODS();\n    }\n\n    this.setMode('edit');\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n\n    if (isIE) {\n      // editor can be null after mounting\n      // https://stackoverflow.com/questions/44074747/componentdidmount-called-before-ref-callback\n      if (!this.editor) {\n        global.execCommand('AutoUrlDetect', false, false);\n      } else {\n        this.editor.ownerDocument.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n  };\n\n  _proto2.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestEditorState = this.props.editorState;\n    this._latestCommittedEditorState = this.props.editorState;\n  }\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n  // eslint-disable-next-line fb-www/extra-arrow-initializer\n  ;\n\n  return DraftEditor;\n}(React.Component);\n\n_defineProperty(DraftEditor, \"defaultProps\", {\n  ariaDescribedBy: EDITOR_ID_PLACEHOLDER,\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: function blockRendererFn() {\n    return null;\n  },\n  blockStyleFn: function blockStyleFn() {\n    return '';\n  },\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n});\n\nmodule.exports = DraftEditor;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/node_modules/draft-js/lib/DraftEditor.react.js"],"names":["_assign","require","_extends","bind","target","i","arguments","length","source","key","Object","prototype","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_assertThisInitialized","self","ReferenceError","obj","value","configurable","writable","_inheritsLoose","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","DefaultDraftBlockRenderMap","DefaultDraftInlineStyle","DraftEditorCompositionHandler","DraftEditorContents","DraftEditorDragHandler","DraftEditorEditHandler","flushControlled","DraftEditorPlaceholder","DraftEffects","EditorState","Scroll","Style","UserAgent","cx","generateRandomKey","getDefaultKeyBinding","getScrollPosition","gkx","invariant","isHTMLElement","nullthrows","React","isIE","isBrowser","allowSpellCheck","handlerMap","edit","composite","drag","cut","render","didInitODS","UpdateDraftEditorFlags","_React$Component","_proto","componentDidMount","_update","componentDidUpdate","editor","props","_latestEditorState","editorState","_blockSelectEvents","Component","EDITOR_ID_PLACEHOLDER","DraftEditor","_React$Component2","_this","contentsKey","node","editorContainer","firstChild","scrollPosition","alreadyHasFocus","getSelection","getHasFocus","editorNode","scrollParent","getScrollParent","_ref","x","y","process","env","NODE_ENV","focus","preventScroll","window","scrollTo","setTop","update","forceSelection","blur","mode","_this$props","onPaste","onCut","onCopy","editHandler","handler","_handler","setMode","setState","state","clipboard","_clipboard","onChange","_dragCount","exitCurrentMode","_editorKey","editorKey","_placeholderAccessibilityID","_latestCommittedEditorState","_onBeforeInput","_buildHandler","_onBlur","_onCharacterData","_onCompositionEnd","_onCompositionStart","_onCopy","_onCut","_onDragEnd","_onDragOver","_onDragStart","_onDrop","_onInput","_onFocus","_onKeyDown","_onKeyPress","_onKeyUp","_onMouseDown","_onMouseUp","_onPaste","_onSelect","getEditorKey","propName","console","warn","concat","_proto2","eventName","_this2","e","readOnly","method","_showPlaceholder","placeholder","isInCompositionMode","getCurrentContent","hasText","_renderPlaceholder","placeHolderProps","ariaHidden","placeholderAriaHidden","accessibilityID","className","placeholderClassName","text","textAlignment","createElement","_renderARIADescribedBy","describedBy","ariaDescribedBy","undefined","placeholderID","replace","_this$props$ariaLabel","_this$props2","blockRenderMap","blockRendererFn","blockStyleFn","customStyleFn","customStyleMap","textDirectionality","rootClass","contentStyle","outline","userSelect","WebkitUserSelect","whiteSpace","wordWrap","ariaRole","role","ariaExpanded","editorContentsProps","contentClassName","ref","_handleEditorContainerRef","ariaActiveDescendantID","ariaAutoComplete","ariaControls","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","notranslate","contentEditable","webDriverTestID","onBeforeInput","onBlur","onCompositionEnd","onCompositionStart","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDragStart","onDrop","onFocus","onInput","onKeyDown","onKeyPress","onKeyUp","onMouseDown","onMouseUp","onSelect","editorRef","spellCheck","style","suppressContentEditableWarning","tabIndex","initODS","global","execCommand","ownerDocument","keyBindingFn","stripPastedStyles","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @format\n * @oncall draft_js\n * @preventMunge\n */\n'use strict';\n\nvar _assign = require(\"object-assign\");\n\nfunction _extends() { _extends = _assign ? _assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar DefaultDraftBlockRenderMap = require(\"./DefaultDraftBlockRenderMap\");\n\nvar DefaultDraftInlineStyle = require(\"./DefaultDraftInlineStyle\");\n\nvar DraftEditorCompositionHandler = require(\"./DraftEditorCompositionHandler\");\n\nvar DraftEditorContents = require(\"./DraftEditorContents.react\");\n\nvar DraftEditorDragHandler = require(\"./DraftEditorDragHandler\");\n\nvar DraftEditorEditHandler = require(\"./DraftEditorEditHandler\");\n\nvar flushControlled = require(\"./DraftEditorFlushControlled\");\n\nvar DraftEditorPlaceholder = require(\"./DraftEditorPlaceholder.react\");\n\nvar DraftEffects = require(\"./DraftEffects\");\n\nvar EditorState = require(\"./EditorState\");\n\nvar Scroll = require(\"fbjs/lib/Scroll\");\n\nvar Style = require(\"fbjs/lib/Style\");\n\nvar UserAgent = require(\"fbjs/lib/UserAgent\");\n\nvar cx = require(\"fbjs/lib/cx\");\n\nvar generateRandomKey = require(\"./generateRandomKey\");\n\nvar getDefaultKeyBinding = require(\"./getDefaultKeyBinding\");\n\nvar getScrollPosition = require(\"fbjs/lib/getScrollPosition\");\n\nvar gkx = require(\"./gkx\");\n\nvar invariant = require(\"fbjs/lib/invariant\");\n\nvar isHTMLElement = require(\"./isHTMLElement\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar React = require(\"react\");\n\nvar isIE = UserAgent.isBrowser('IE'); // IE does not support the `input` event on contentEditable, so we can't\n// observe spellcheck behavior.\n\nvar allowSpellCheck = !isIE; // Define a set of handler objects to correspond to each possible `mode`\n// of editor behavior.\n\nvar handlerMap = {\n  edit: DraftEditorEditHandler,\n  composite: DraftEditorCompositionHandler,\n  drag: DraftEditorDragHandler,\n  cut: null,\n  render: null\n};\nvar didInitODS = false;\n\nvar UpdateDraftEditorFlags = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(UpdateDraftEditorFlags, _React$Component);\n\n  function UpdateDraftEditorFlags() {\n    return _React$Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UpdateDraftEditorFlags.prototype;\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._update();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._update();\n  };\n\n  _proto._update = function _update() {\n    var editor = this.props.editor;\n    /**\n     * Sometimes a render triggers a 'focus' or other event, and that will\n     * schedule a second render pass.\n     * In order to make sure the second render pass gets the latest editor\n     * state, we update it here.\n     * Example:\n     * render #1\n     * +\n     * |\n     * | cWU -> Nothing ... latestEditorState = STALE_STATE :(\n     * |\n     * | render -> this.props.editorState = FRESH_STATE\n     * | +         *and* set latestEditorState = FRESH_STATE\n     *   |\n     * | |\n     * | +--> triggers 'focus' event, calling 'handleFocus' with latestEditorState\n     * |                                                +\n     * |                                                |\n     * +>cdU -> latestEditorState = FRESH_STATE         | the 'handleFocus' call schedules render #2\n     *                                                  | with latestEditorState, which is FRESH_STATE\n     *                                                  |\n     * render #2 <--------------------------------------+\n     * +\n     * |\n     * | cwU -> nothing updates\n     * |\n     * | render -> this.props.editorState = FRESH_STATE which was passed in above\n     * |\n     * +>cdU fires and resets latestEditorState = FRESH_STATE\n     * ---\n     * Note that if we don't set latestEditorState in 'render' in the above\n     * diagram, then STALE_STATE gets passed to render #2.\n     */\n\n    editor._latestEditorState = this.props.editorState;\n    /**\n     * The reason we set this 'blockSelectEvents' flag is that  IE will fire a\n     * 'selectionChange' event when we programmatically change the selection,\n     * meaning it would trigger a new select event while we are in the middle\n     * of updating.\n     * We found that the 'selection.addRange' was what triggered the stray\n     * selectionchange event in IE.\n     * To be clear - we have not been able to reproduce specific bugs related\n     * to this stray selection event, but have recorded logs that some\n     * conditions do cause it to get bumped into during editOnSelect.\n     */\n\n    editor._blockSelectEvents = true;\n  };\n\n  return UpdateDraftEditorFlags;\n}(React.Component);\n\nvar EDITOR_ID_PLACEHOLDER = '{{editor_id_placeholder}}';\n/**\n * `DraftEditor` is the root editor component. It composes a `contentEditable`\n * div, and provides a wide variety of useful function props for managing the\n * state of the editor. See `DraftEditorProps` for details.\n */\n\nvar DraftEditor = /*#__PURE__*/function (_React$Component2) {\n  _inheritsLoose(DraftEditor, _React$Component2);\n\n  /**\n   * Define proxies that can route events to the current handler.\n   */\n  // See `restoreEditorDOM()`.\n  function DraftEditor(props) {\n    var _this;\n\n    _this = _React$Component2.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"_blockSelectEvents\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_clipboard\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_handler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_dragCount\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_internalDrag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"_editorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_placeholderAccessibilityID\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_latestCommittedEditorState\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_pendingStateFromBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBeforeInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onBlur\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCharacterData\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCompositionStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCopy\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onCut\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragEnd\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragOver\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onInput\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onFocus\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyPress\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onKeyUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseDown\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseUp\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onPaste\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_onSelect\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editor\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"editorContainer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"getEditorKey\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      contentsKey: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleEditorContainerRef\", function (node) {\n      _this.editorContainer = node; // Instead of having a direct ref on the child, we'll grab it here.\n      // This is safe as long as the rendered structure is static (which it is).\n      // This lets the child support ref={props.editorRef} without merging refs.\n\n      _this.editor = node !== null ? node.firstChild : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focus\", function (scrollPosition) {\n      var editorState = _this.props.editorState;\n      var alreadyHasFocus = editorState.getSelection().getHasFocus();\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        // once in a while people call 'focus' in a setTimeout, and the node has\n        // been deleted, so it can be null in that case.\n        return;\n      }\n\n      var scrollParent = Style.getScrollParent(editorNode);\n\n      var _ref = scrollPosition || getScrollPosition(scrollParent),\n          x = _ref.x,\n          y = _ref.y;\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.focus({\n        preventScroll: true\n      }); // Restore scroll position\n\n      if (scrollParent === window) {\n        window.scrollTo(x, y);\n      } else {\n        Scroll.setTop(scrollParent, y);\n      } // On Chrome and Safari, calling focus on contenteditable focuses the\n      // cursor at the first character. This is something you don't expect when\n      // you're clicking on an input element but not directly on a character.\n      // Put the cursor back where it was before the blur.\n\n\n      if (!alreadyHasFocus) {\n        _this.update(EditorState.forceSelection(editorState, editorState.getSelection()));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"blur\", function () {\n      var editorNode = _this.editor;\n\n      if (!editorNode) {\n        return;\n      }\n\n      !isHTMLElement(editorNode) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'editorNode is not an HTMLElement') : invariant(false) : void 0;\n      editorNode.blur();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setMode\", function (mode) {\n      var _this$props = _this.props,\n          onPaste = _this$props.onPaste,\n          onCut = _this$props.onCut,\n          onCopy = _this$props.onCopy;\n\n      var editHandler = _objectSpread({}, handlerMap.edit);\n\n      if (onPaste) {\n        /* $FlowFixMe[incompatible-type] (>=0.117.0 site=www,mobile) This comment\n         * suppresses an error found when Flow v0.117 was deployed. To see the\n         * error delete this comment and run Flow. */\n        editHandler.onPaste = onPaste;\n      }\n\n      if (onCut) {\n        editHandler.onCut = onCut;\n      }\n\n      if (onCopy) {\n        editHandler.onCopy = onCopy;\n      }\n\n      var handler = _objectSpread(_objectSpread({}, handlerMap), {}, {\n        edit: editHandler\n      });\n\n      _this._handler = handler[mode];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"exitCurrentMode\", function () {\n      _this.setMode('edit');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"restoreEditorDOM\", function (scrollPosition) {\n      // Wrap state updates in `flushControlled`. In sync mode, this is\n      // effectively a no-op. In async mode, this ensures all updates scheduled\n      // inside are flushed before React yields to the browser.\n      if (flushControlled) {\n        flushControlled(function () {\n          return _this.setState({\n            contentsKey: _this.state.contentsKey + 1\n          }, function () {\n            _this.focus(scrollPosition);\n          });\n        });\n      } else {\n        _this.setState({\n          contentsKey: _this.state.contentsKey + 1\n        }, function () {\n          _this.focus(scrollPosition);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setClipboard\", function (clipboard) {\n      _this._clipboard = clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getClipboard\", function () {\n      return _this._clipboard;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"update\", function (editorState) {\n      var onChange = _this.props.onChange;\n      _this._latestEditorState = editorState; // Wrap state updates in `flushControlled`. In sync mode, this is\n      // effectively a no-op. In async mode, this ensures all updates scheduled\n      // inside are flushed before React yields to the browser.\n\n      if (flushControlled) {\n        flushControlled(function () {\n          return onChange(editorState);\n        });\n      } else {\n        onChange(editorState);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragEnter\", function () {\n      _this._dragCount++;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragLeave\", function () {\n      _this._dragCount--;\n\n      if (_this._dragCount === 0) {\n        _this.exitCurrentMode();\n      }\n    });\n\n    _this._blockSelectEvents = false;\n    _this._clipboard = null;\n    _this._handler = null;\n    _this._dragCount = 0;\n    _this._editorKey = props.editorKey || generateRandomKey();\n    _this._placeholderAccessibilityID = 'placeholder-' + _this._editorKey;\n    _this._latestEditorState = props.editorState;\n    _this._latestCommittedEditorState = props.editorState;\n    _this._onBeforeInput = _this._buildHandler('onBeforeInput');\n    _this._onBlur = _this._buildHandler('onBlur');\n    _this._onCharacterData = _this._buildHandler('onCharacterData');\n    _this._onCompositionEnd = _this._buildHandler('onCompositionEnd');\n    _this._onCompositionStart = _this._buildHandler('onCompositionStart');\n    _this._onCopy = _this._buildHandler('onCopy');\n    _this._onCut = _this._buildHandler('onCut');\n    _this._onDragEnd = _this._buildHandler('onDragEnd');\n    _this._onDragOver = _this._buildHandler('onDragOver');\n    _this._onDragStart = _this._buildHandler('onDragStart');\n    _this._onDrop = _this._buildHandler('onDrop');\n    _this._onInput = _this._buildHandler('onInput');\n    _this._onFocus = _this._buildHandler('onFocus');\n    _this._onKeyDown = _this._buildHandler('onKeyDown');\n    _this._onKeyPress = _this._buildHandler('onKeyPress');\n    _this._onKeyUp = _this._buildHandler('onKeyUp');\n    _this._onMouseDown = _this._buildHandler('onMouseDown');\n    _this._onMouseUp = _this._buildHandler('onMouseUp');\n    _this._onPaste = _this._buildHandler('onPaste');\n    _this._onSelect = _this._buildHandler('onSelect');\n\n    _this.getEditorKey = function () {\n      return _this._editorKey;\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      ['onDownArrow', 'onEscape', 'onLeftArrow', 'onRightArrow', 'onTab', 'onUpArrow'].forEach(function (propName) {\n        if (props.hasOwnProperty(propName)) {\n          // eslint-disable-next-line fb-www/no-console\n          console.warn(\"Supplying an `\".concat(propName, \"` prop to `DraftEditor` has \") + 'been deprecated. If your handler needs access to the keyboard ' + 'event, supply a custom `keyBindingFn` prop that falls back to ' + 'the default one (eg. https://is.gd/wHKQ3W).');\n        }\n      });\n    }\n\n    return _this;\n  }\n  /**\n   * Build a method that will pass the event to the specified handler method.\n   * This allows us to look up the correct handler function for the current\n   * editor mode, if any has been specified.\n   */\n\n\n  var _proto2 = DraftEditor.prototype;\n\n  _proto2._buildHandler = function _buildHandler(eventName) {\n    var _this2 = this;\n\n    // Wrap event handlers in `flushControlled`. In sync mode, this is\n    // effectively a no-op. In async mode, this ensures all updates scheduled\n    // inside the handler are flushed before React yields to the browser.\n    return function (e) {\n      if (!_this2.props.readOnly) {\n        var method = _this2._handler && _this2._handler[eventName];\n\n        if (method) {\n          if (flushControlled) {\n            flushControlled(function () {\n              return method(_this2, e);\n            });\n          } else {\n            method(_this2, e);\n          }\n        }\n      }\n    };\n  };\n\n  _proto2._showPlaceholder = function _showPlaceholder() {\n    return !!this.props.placeholder && !this.props.editorState.isInCompositionMode() && !this.props.editorState.getCurrentContent().hasText();\n  };\n\n  _proto2._renderPlaceholder = function _renderPlaceholder() {\n    if (this._showPlaceholder()) {\n      var placeHolderProps = {\n        ariaHidden: this.props.placeholderAriaHidden,\n        accessibilityID: this._placeholderAccessibilityID,\n        className: this.props.placeholderClassName,\n        editorState: this.props.editorState,\n        text: nullthrows(this.props.placeholder),\n        textAlignment: this.props.textAlignment\n      };\n      /* $FlowFixMe[incompatible-type] (>=0.112.0 site=www,mobile) This comment\n       * suppresses an error found when Flow v0.112 was deployed. To see the\n       * error delete this comment and run Flow. */\n\n      return /*#__PURE__*/React.createElement(DraftEditorPlaceholder, placeHolderProps);\n    }\n\n    return null;\n  }\n  /**\n   * returns ariaDescribedBy prop with EDITOR_ID_PLACEHOLDER replaced with\n   * the DOM id of the placeholder (if it exists)\n   * @returns aria-describedby attribute value\n   */\n  ;\n\n  _proto2._renderARIADescribedBy = function _renderARIADescribedBy() {\n    var describedBy = this.props.ariaDescribedBy || '';\n\n    if (this.props.placeholderAriaHidden) {\n      return describedBy === EDITOR_ID_PLACEHOLDER ? undefined : describedBy;\n    }\n\n    var placeholderID = this._showPlaceholder() ? this._placeholderAccessibilityID : '';\n    return describedBy.replace(EDITOR_ID_PLACEHOLDER, placeholderID) || undefined;\n  };\n\n  _proto2.render = function render() {\n    var _this$props$ariaLabel;\n\n    var _this$props2 = this.props,\n        blockRenderMap = _this$props2.blockRenderMap,\n        blockRendererFn = _this$props2.blockRendererFn,\n        blockStyleFn = _this$props2.blockStyleFn,\n        customStyleFn = _this$props2.customStyleFn,\n        customStyleMap = _this$props2.customStyleMap,\n        editorState = _this$props2.editorState,\n        preventScroll = _this$props2.preventScroll,\n        readOnly = _this$props2.readOnly,\n        textAlignment = _this$props2.textAlignment,\n        textDirectionality = _this$props2.textDirectionality;\n    var rootClass = cx({\n      'DraftEditor/root': true,\n      'DraftEditor/alignLeft': textAlignment === 'left',\n      'DraftEditor/alignRight': textAlignment === 'right',\n      'DraftEditor/alignCenter': textAlignment === 'center'\n    });\n    var contentStyle = {\n      outline: 'none',\n      // fix parent-draggable Safari bug. #1326\n      userSelect: 'text',\n      WebkitUserSelect: 'text',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    }; // The aria-expanded and aria-haspopup properties should only be rendered\n    // for a combobox.\n\n    /* $FlowFixMe[prop-missing] (>=0.68.0 site=www,mobile) This comment\n     * suppresses an error found when Flow v0.68 was deployed. To see the error\n     * delete this comment and run Flow. */\n\n    var ariaRole = this.props.role || 'textbox';\n    var ariaExpanded = ariaRole === 'combobox' ? !!this.props.ariaExpanded : null;\n    var editorContentsProps = {\n      blockRenderMap: blockRenderMap,\n      blockRendererFn: blockRendererFn,\n      blockStyleFn: blockStyleFn,\n      customStyleMap: _objectSpread(_objectSpread({}, DefaultDraftInlineStyle), customStyleMap),\n      customStyleFn: customStyleFn,\n      editorKey: this._editorKey,\n      editorState: editorState,\n      preventScroll: preventScroll,\n      textDirectionality: textDirectionality\n    };\n    var contentClassName = this.props.contentClassName != null ? this.props.contentClassName + ' ' : '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: rootClass\n    }, this._renderPlaceholder(), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx('DraftEditor/editorContainer'),\n      ref: this._handleEditorContainerRef\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"aria-activedescendant\": readOnly ? null : this.props.ariaActiveDescendantID,\n      \"aria-autocomplete\": readOnly ? null : this.props.ariaAutoComplete,\n      \"aria-controls\": readOnly ? null : this.props.ariaControls,\n      \"aria-describedby\": this._renderARIADescribedBy(),\n      \"aria-expanded\": readOnly ? null : ariaExpanded,\n      \"aria-label\": (_this$props$ariaLabel = this.props.ariaLabel) !== null && _this$props$ariaLabel !== void 0 ? _this$props$ariaLabel : this.props.placeholder,\n      \"aria-labelledby\": this.props.ariaLabelledBy,\n      \"aria-multiline\": this.props.ariaMultiline,\n      \"aria-owns\": readOnly ? null : this.props.ariaOwneeID,\n      \"aria-required\": this.props.ariaRequired,\n      autoCapitalize: this.props.autoCapitalize,\n      autoComplete: this.props.autoComplete,\n      autoCorrect: this.props.autoCorrect,\n      className: // eslint-disable-next-line fb-www/cx-concat\n      contentClassName + cx({\n        // Chrome's built-in translation feature mutates the DOM in ways\n        // that Draft doesn't expect (ex: adding <font> tags inside\n        // DraftEditorLeaf spans) and causes problems. We add notranslate\n        // here which makes its autotranslation skip over this subtree.\n        notranslate: !readOnly,\n        'public/DraftEditor/content': true\n      }),\n      contentEditable: !readOnly,\n      \"data-testid\": this.props.webDriverTestID,\n      onBeforeInput: this._onBeforeInput,\n      onBlur: this._onBlur,\n      onCompositionEnd: this._onCompositionEnd,\n      onCompositionStart: this._onCompositionStart,\n      onCopy: this._onCopy,\n      onCut: this._onCut,\n      onDragEnd: this._onDragEnd,\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this._onDragOver,\n      onDragStart: this._onDragStart,\n      onDrop: this._onDrop,\n      onFocus: this._onFocus,\n      onInput: this._onInput,\n      onKeyDown: this._onKeyDown,\n      onKeyPress: this._onKeyPress,\n      onKeyUp: this._onKeyUp,\n      onMouseDown: this._onMouseDown,\n      onMouseUp: this._onMouseUp,\n      onPaste: this._onPaste,\n      onSelect: this._onSelect,\n      ref: this.props.editorRef,\n      role: readOnly ? null : ariaRole,\n      spellCheck: allowSpellCheck && this.props.spellCheck,\n      style: contentStyle,\n      suppressContentEditableWarning: true,\n      tabIndex: this.props.tabIndex\n    }, /*#__PURE__*/React.createElement(UpdateDraftEditorFlags, {\n      editor: this,\n      editorState: editorState\n    }), /*#__PURE__*/React.createElement(DraftEditorContents, _extends({}, editorContentsProps, {\n      key: 'contents' + this.state.contentsKey\n    })))));\n  };\n\n  _proto2.componentDidMount = function componentDidMount() {\n    this._blockSelectEvents = false;\n\n    if (!didInitODS && gkx('draft_ods_enabled')) {\n      didInitODS = true;\n      DraftEffects.initODS();\n    }\n\n    this.setMode('edit');\n    /**\n     * IE has a hardcoded \"feature\" that attempts to convert link text into\n     * anchors in contentEditable DOM. This breaks the editor's expectations of\n     * the DOM, and control is lost. Disable it to make IE behave.\n     * See: http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/\n     * ie9-beta-minor-change-list.aspx\n     */\n\n    if (isIE) {\n      // editor can be null after mounting\n      // https://stackoverflow.com/questions/44074747/componentdidmount-called-before-ref-callback\n      if (!this.editor) {\n        global.execCommand('AutoUrlDetect', false, false);\n      } else {\n        this.editor.ownerDocument.execCommand('AutoUrlDetect', false, false);\n      }\n    }\n  };\n\n  _proto2.componentDidUpdate = function componentDidUpdate() {\n    this._blockSelectEvents = false;\n    this._latestEditorState = this.props.editorState;\n    this._latestCommittedEditorState = this.props.editorState;\n  }\n  /**\n   * Used via `this.focus()`.\n   *\n   * Force focus back onto the editor node.\n   *\n   * We attempt to preserve scroll position when focusing. You can also pass\n   * a specified scroll position (for cases like `cut` behavior where it should\n   * be restored to a known position).\n   */\n  // eslint-disable-next-line fb-www/extra-arrow-initializer\n  ;\n\n  return DraftEditor;\n}(React.Component);\n\n_defineProperty(DraftEditor, \"defaultProps\", {\n  ariaDescribedBy: EDITOR_ID_PLACEHOLDER,\n  blockRenderMap: DefaultDraftBlockRenderMap,\n  blockRendererFn: function blockRendererFn() {\n    return null;\n  },\n  blockStyleFn: function blockStyleFn() {\n    return '';\n  },\n  keyBindingFn: getDefaultKeyBinding,\n  readOnly: false,\n  spellCheck: false,\n  stripPastedStyles: false\n});\n\nmodule.exports = DraftEditor;"]},"metadata":{},"sourceType":"script"}