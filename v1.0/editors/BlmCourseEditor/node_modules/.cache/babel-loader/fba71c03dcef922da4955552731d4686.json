{"ast":null,"code":"import { GotoActionTypes, Positions } from \"editor-constants\";\nimport { isDocumentAction, isLinkAction, isSimpleContentAction, isNavigationAction, isReplaceBackgroundAction, isReplaceTargetAction, isPopoverAction, createShortUUID, isTooltipAction, isMediaLayerAction, isMailAction, isGoto360Action, isGotoAction, isCloseOrExit, isVideoMarker, isAudioMaker } from \"utils\";\nimport { GlTemplateBuilderStore } from \"../../store\";\nexport function getComponentClassNames(types) {\n  const styles = GlTemplateBuilderStore.getStyles();\n  const result = [];\n\n  if (styles) {\n    types.forEach(type => {\n      if (styles[type]) {\n        result.push(...styles[type].classNames);\n      }\n    });\n  }\n\n  return result;\n}\nexport function getStyleClassNames(compStyle, type) {\n  const {\n    style,\n    hasLight,\n    hasDarkOut,\n    hasDarkOver,\n    isShadow\n  } = compStyle;\n  const result = [];\n\n  if (style) {\n    result.push(style);\n  }\n\n  if (hasLight) {\n    result.push(\"light\");\n  }\n\n  if (type === \"button\") {\n    if (hasDarkOut) {\n      result.push(\"darkout\");\n    }\n\n    if (hasDarkOver) {\n      result.push(\"darkover\");\n    }\n  }\n\n  if (type === \"media-button\" || type === \"media-button-summary\") {\n    if (hasDarkOut) {\n      result.push(\"light\");\n    }\n\n    if (hasDarkOver) {\n      result.push(\"lightover\");\n    }\n  }\n\n  if ((type === \"button\" || type === \"sound\") && isShadow) {\n    result.push(\"shadow\");\n  }\n\n  if ((type === \"media-image\" || type === \"media-button\" || type === \"media-video\") && isShadow) {\n    result.push(\"blmshadow\");\n  }\n\n  return result;\n}\nexport function getTintStyles(compStyle) {\n  const {\n    tint,\n    bgTint,\n    tintOut,\n    tintOver\n  } = compStyle;\n  const result = {};\n\n  if (tint) {\n    var _tint$alpha;\n\n    if (tint.color) {\n      result[\"--blm_tint_color\"] = tint.color;\n    }\n\n    result[\"--blm_tint_opacity\"] = ((_tint$alpha = tint.alpha) !== null && _tint$alpha !== void 0 ? _tint$alpha : 50) / 100;\n  }\n\n  if (bgTint) {\n    var _bgTint$alpha;\n\n    result[\"--blm_undertext_color\"] = bgTint.color || \"unset\";\n    result[\"--blm_undertext_opacity\"] = ((_bgTint$alpha = bgTint.alpha) !== null && _bgTint$alpha !== void 0 ? _bgTint$alpha : 0) / 100;\n  }\n\n  if (tintOut) {\n    var _tintOut$alpha;\n\n    if (tintOut.color) {\n      result[\"--tintout\"] = tintOut.color;\n    }\n\n    result[\"--opacityout\"] = ((_tintOut$alpha = tintOut.alpha) !== null && _tintOut$alpha !== void 0 ? _tintOut$alpha : 50) / 100;\n  }\n\n  if (tintOver) {\n    var _tintOver$alpha;\n\n    if (tintOver.color) {\n      result[\"--tintover\"] = tintOver.color;\n    }\n\n    result[\"--opacityover\"] = ((_tintOver$alpha = tintOver.alpha) !== null && _tintOver$alpha !== void 0 ? _tintOver$alpha : 50) / 100;\n  }\n\n  return result;\n}\nexport function createAction(compAction, type) {\n  const {\n    action\n  } = compAction;\n\n  if (isSimpleContentAction(compAction) && compAction.value) {\n    const {\n      simpleContentId,\n      option,\n      display\n    } = compAction.value;\n    return {\n      action,\n      uid: simpleContentId,\n      target: option === \"target\" ? `${option}-${display}` : option,\n      display: option === \"popup\" || option === \"flap\" ? display : undefined\n    };\n  } else if (isDocumentAction(compAction) && compAction.value) {\n    const {\n      document\n    } = compAction.value;\n    return {\n      action,\n      originalname: document === null || document === void 0 ? void 0 : document.name,\n      src: document === null || document === void 0 ? void 0 : document.url,\n      document\n    };\n  } else if (isLinkAction(compAction) && compAction.value) {\n    const {\n      url\n    } = compAction.value;\n    return {\n      action,\n      url\n    };\n  } else if (isMailAction(compAction) && compAction.value) {\n    const {\n      email\n    } = compAction.value;\n    return {\n      action,\n      email\n    };\n  } else if (isReplaceBackgroundAction(compAction) && compAction.value) {\n    const {\n      background,\n      restore\n    } = compAction.value;\n    let value = {\n      action,\n      originalname: background === null || background === void 0 ? void 0 : background.name,\n      src: background === null || background === void 0 ? void 0 : background.url,\n      background,\n      restore: restore\n    };\n\n    if (restore === undefined) {\n      delete value.restore;\n    }\n\n    return value;\n  } else if (isReplaceTargetAction(compAction) && compAction.value) {\n    const {\n      replaceTargetId,\n      replaceId,\n      restore\n    } = compAction.value;\n    let value = {\n      action,\n      target: replaceTargetId,\n      uid: replaceId,\n      restore: restore\n    };\n\n    if (restore === undefined) {\n      delete value.restore;\n    }\n\n    return value;\n  } else if (isNavigationAction(compAction) && compAction.value) {\n    const {\n      action: gotoAction,\n      gotoId\n    } = compAction.value;\n    const navigationAction = \"goto\";\n    return {\n      action: navigationAction,\n      option: gotoAction === GotoActionTypes.PageScreen ? `${gotoAction}-${gotoId}` : gotoAction\n    };\n  } else if (isGotoAction(compAction) && compAction.value) {\n    const {\n      gotoId\n    } = compAction.value;\n    const gotoAction = GotoActionTypes.PageScreen;\n    return {\n      action: \"goto\",\n      option: `${gotoAction}-${gotoId}`\n    };\n  } else if (isTooltipAction(compAction) && compAction.value) {\n    const {\n      style,\n      label\n    } = compAction.value;\n    return {\n      action,\n      style,\n      html: `\n              <div class=\"${type === \"click\" ? \"tooltipclick\" : \"tooltipover\"}\">\n                <span>${label !== null && label !== void 0 ? label : \"\"}</span>\n              </div>`\n    };\n  } else if (isPopoverAction(compAction) && compAction.value) {\n    const {\n      media,\n      title,\n      description,\n      position = Positions.Top,\n      style,\n      button\n    } = compAction.value;\n    const {\n      checked,\n      label,\n      action: btnAction\n    } = button || {};\n    const id = createShortUUID();\n    const options = {\n      media\n    };\n    const onClick = btnAction && createAction(btnAction, \"click\");\n    return {\n      action,\n      \"blm-popover-id\": id,\n      html: `\n              <div class=\"popoverwrapper ${style || \"\"}\" blm-position=\"${position}\" blm-popover-id=\"${id}\" ${options ? `blm-editor-options='${JSON.stringify(options)}'` : \"\"}>  \n                <div class=\"popovermediawrapper\">\n                  <img src=\"${(media === null || media === void 0 ? void 0 : media.url) || \"\"}\"/>\n                </div>\n                <div class=\"popovertextwrapper\">\n                  <div class=\"hotspot_title\">${title || \"\"}</div>\n                  <div class=\"hotspot_description\">${description || \"\"}</div>\n                  <div class=\"hotspot_action\" blm-checked=\"${checked}\" ${onClick ? `blm-action='${JSON.stringify({\n        onClick\n      })}'` : \"\"} >\n                    <span class=\"hotspot_label\">${label || \"\"}</span>\n                  </div>\n                </div>\n              </div>`\n    };\n  } else if (isMediaLayerAction(compAction) && compAction.value) {\n    const {\n      layer\n    } = compAction.value;\n    return {\n      action,\n      path: layer === null || layer === void 0 ? void 0 : layer.url,\n      layer\n    };\n  } else if (isGoto360Action(compAction) && compAction.value) {\n    const {\n      gotoId\n    } = compAction.value;\n    return {\n      action,\n      gotoId\n    };\n  } else if (isCloseOrExit(compAction) && compAction.value) {\n    const {\n      action: closeAction\n    } = compAction.value;\n    return {\n      action,\n      option: closeAction\n    };\n  } else if (isVideoMarker(compAction) && compAction.value) {\n    const {\n      video,\n      marker\n    } = compAction.value;\n    return {\n      action: \"videomarker\",\n      option: `${video}-${marker}`\n    };\n  } else if (isAudioMaker(compAction) && compAction.value) {\n    const {\n      sound,\n      marker\n    } = compAction.value;\n    return {\n      action: \"audiomarker\",\n      option: `${sound}-${marker}`\n    };\n  }\n}","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/template-builders/html/component/common.ts"],"names":["GotoActionTypes","Positions","isDocumentAction","isLinkAction","isSimpleContentAction","isNavigationAction","isReplaceBackgroundAction","isReplaceTargetAction","isPopoverAction","createShortUUID","isTooltipAction","isMediaLayerAction","isMailAction","isGoto360Action","isGotoAction","isCloseOrExit","isVideoMarker","isAudioMaker","GlTemplateBuilderStore","getComponentClassNames","types","styles","getStyles","result","forEach","type","push","classNames","getStyleClassNames","compStyle","style","hasLight","hasDarkOut","hasDarkOver","isShadow","getTintStyles","tint","bgTint","tintOut","tintOver","color","alpha","createAction","compAction","action","value","simpleContentId","option","display","uid","target","undefined","document","originalname","name","src","url","email","background","restore","replaceTargetId","replaceId","gotoAction","gotoId","navigationAction","PageScreen","label","html","media","title","description","position","Top","button","checked","btnAction","id","options","onClick","JSON","stringify","layer","path","closeAction","video","marker","sound"],"mappings":"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","sourcesContent":["import { ComponentAction, ComponentStyle, SimpleObject } from \"types\";\r\nimport { GotoActionTypes, Positions, StyleListTypes } from \"editor-constants\";\r\nimport {\r\n  isDocumentAction,\r\n  isLinkAction,\r\n  isSimpleContentAction,\r\n  isNavigationAction,\r\n  isReplaceBackgroundAction,\r\n  isReplaceTargetAction,\r\n  isPopoverAction,\r\n  createShortUUID,\r\n  isTooltipAction,\r\n  isMediaLayerAction,\r\n  isMailAction,\r\n  isGoto360Action,\r\n  isGotoAction,\r\n  isCloseOrExit,\r\n  isVideoMarker,\r\n  isAudioMaker,\r\n} from \"utils\";\r\nimport { GlTemplateBuilderStore } from \"../../store\";\r\n\r\nexport function getComponentClassNames(types: StyleListTypes[]) {\r\n  const styles = GlTemplateBuilderStore.getStyles();\r\n  const result: string[] = [];\r\n\r\n  if (styles) {\r\n    types.forEach((type) => {\r\n      if (styles[type]) {\r\n        result.push(...styles[type]!.classNames);\r\n      }\r\n    });\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function getStyleClassNames(compStyle: ComponentStyle, type?: string) {\r\n  const { style, hasLight, hasDarkOut, hasDarkOver, isShadow } = compStyle;\r\n  const result = [];\r\n\r\n  if (style) {\r\n    result.push(style);\r\n  }\r\n\r\n  if (hasLight) {\r\n    result.push(\"light\");\r\n  }\r\n\r\n  if (type === \"button\") {\r\n    if (hasDarkOut) {\r\n      result.push(\"darkout\");\r\n    }\r\n    if (hasDarkOver) {\r\n      result.push(\"darkover\");\r\n    }\r\n  }\r\n\r\n  if (type === \"media-button\" || type === \"media-button-summary\") {\r\n    if (hasDarkOut) {\r\n      result.push(\"light\");\r\n    }\r\n\r\n    if (hasDarkOver) {\r\n      result.push(\"lightover\");\r\n    }\r\n  }\r\n\r\n  if ((type === \"button\" || type === \"sound\") && isShadow) {\r\n    result.push(\"shadow\");\r\n  }\r\n  if ((type === \"media-image\" || type === \"media-button\" || type === \"media-video\") && isShadow) {\r\n        result.push(\"blmshadow\");\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getTintStyles(compStyle: ComponentStyle) {\r\n  const { tint, bgTint, tintOut, tintOver } = compStyle;\r\n  const result: SimpleObject = {};\r\n\r\n  if (tint) {\r\n    if (tint.color) {\r\n      result[\"--blm_tint_color\"] = tint.color;\r\n    }\r\n    result[\"--blm_tint_opacity\"] = (tint.alpha ?? 50) / 100;\r\n  }\r\n\r\n  if (bgTint) {\r\n    result[\"--blm_undertext_color\"] = bgTint.color || \"unset\";\r\n    result[\"--blm_undertext_opacity\"] = (bgTint.alpha ?? 0) / 100;\r\n  }\r\n\r\n  if (tintOut) {\r\n    if (tintOut.color) {\r\n      result[\"--tintout\"] = tintOut.color;\r\n    }\r\n    result[\"--opacityout\"] = (tintOut.alpha ?? 50) / 100;\r\n  }\r\n\r\n  if (tintOver) {\r\n    if (tintOver.color) {\r\n      result[\"--tintover\"] = tintOver.color;\r\n    }\r\n    result[\"--opacityover\"] = (tintOver.alpha ?? 50) / 100;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nexport function createAction(\r\n  compAction: ComponentAction,\r\n  type: \"click\" | \"over\"\r\n): SimpleObject | undefined {\r\n  const { action } = compAction;\r\n\r\n  if (isSimpleContentAction(compAction) && compAction.value) {\r\n    const { simpleContentId, option, display } = compAction.value;\r\n\r\n    return {\r\n      action,\r\n      uid: simpleContentId,\r\n      target: option === \"target\" ? `${option}-${display}` : option,\r\n      display: option === \"popup\" || option === \"flap\" ? display : undefined,\r\n    };\r\n  } else if (isDocumentAction(compAction) && compAction.value) {\r\n    const { document } = compAction.value;\r\n\r\n    return {\r\n      action,\r\n      originalname: document?.name,\r\n      src: document?.url,\r\n      document,\r\n    };\r\n  } else if (isLinkAction(compAction) && compAction.value) {\r\n    const { url } = compAction.value;\r\n\r\n    return {\r\n      action,\r\n      url,\r\n    };\r\n  } else if (isMailAction(compAction) && compAction.value) {\r\n    const { email } = compAction.value;\r\n\r\n    return {\r\n      action,\r\n      email,\r\n    };\r\n  } else if (isReplaceBackgroundAction(compAction) && compAction.value) {\r\n    const { background, restore } = compAction.value;\r\n    let value = {\r\n      action,\r\n      originalname: background?.name,\r\n      src: background?.url,\r\n      background,\r\n      restore: restore,\r\n    };\r\n    if (restore === undefined) {\r\n      delete value.restore;\r\n    }\r\n\r\n    return value;\r\n  } else if (isReplaceTargetAction(compAction) && compAction.value) {\r\n    const { replaceTargetId, replaceId, restore } = compAction.value;\r\n    let value = {\r\n      action,\r\n      target: replaceTargetId,\r\n      uid: replaceId,\r\n      restore: restore,\r\n    };\r\n    if (restore === undefined) {\r\n      delete value.restore;\r\n    }\r\n\r\n    return value;\r\n  } else if (isNavigationAction(compAction) && compAction.value) {\r\n    const { action: gotoAction, gotoId } = compAction.value;\r\n    const navigationAction = \"goto\";\r\n    return {\r\n      action: navigationAction,\r\n      option: gotoAction === GotoActionTypes.PageScreen ? `${gotoAction}-${gotoId}` : gotoAction,\r\n    };\r\n  } else if (isGotoAction(compAction) && compAction.value) {\r\n    const { gotoId } = compAction.value;\r\n    const gotoAction = GotoActionTypes.PageScreen;\r\n    return {\r\n      action: \"goto\",\r\n      option: `${gotoAction}-${gotoId}`,\r\n    };\r\n  } else if (isTooltipAction(compAction) && compAction.value) {\r\n    const { style, label } = compAction.value;\r\n\r\n    return {\r\n      action,\r\n      style,\r\n      html: `\r\n              <div class=\"${type === \"click\" ? \"tooltipclick\" : \"tooltipover\"}\">\r\n                <span>${label ?? \"\"}</span>\r\n              </div>`,\r\n    };\r\n  } else if (isPopoverAction(compAction) && compAction.value) {\r\n    const { media, title, description, position = Positions.Top, style, button } = compAction.value;\r\n    const { checked, label, action: btnAction } = button || {};\r\n    const id = createShortUUID();\r\n    const options = { media };\r\n    const onClick = btnAction && createAction(btnAction, \"click\");\r\n\r\n    return {\r\n      action,\r\n      \"blm-popover-id\": id,\r\n      html: `\r\n              <div class=\"popoverwrapper ${\r\n                style || \"\"\r\n              }\" blm-position=\"${position}\" blm-popover-id=\"${id}\" ${\r\n        options ? `blm-editor-options='${JSON.stringify(options)}'` : \"\"\r\n      }>  \r\n                <div class=\"popovermediawrapper\">\r\n                  <img src=\"${media?.url || \"\"}\"/>\r\n                </div>\r\n                <div class=\"popovertextwrapper\">\r\n                  <div class=\"hotspot_title\">${title || \"\"}</div>\r\n                  <div class=\"hotspot_description\">${description || \"\"}</div>\r\n                  <div class=\"hotspot_action\" blm-checked=\"${checked}\" ${\r\n        onClick\r\n          ? `blm-action='${JSON.stringify({\r\n              onClick,\r\n            })}'`\r\n          : \"\"\r\n      } >\r\n                    <span class=\"hotspot_label\">${label || \"\"}</span>\r\n                  </div>\r\n                </div>\r\n              </div>`,\r\n    };\r\n  } else if (isMediaLayerAction(compAction) && compAction.value) {\r\n    const { layer } = compAction.value;\r\n\r\n    return {\r\n      action,\r\n      path: layer?.url,\r\n      layer,\r\n    };\r\n  } else if (isGoto360Action(compAction) && compAction.value) {\r\n    const { gotoId } = compAction.value;\r\n\r\n    return {\r\n      action,\r\n      gotoId,\r\n    };\r\n  } else if (isCloseOrExit(compAction) && compAction.value) {\r\n    const { action: closeAction } = compAction.value;\r\n    return {\r\n      action,\r\n      option: closeAction,\r\n    };\r\n  } else if (isVideoMarker(compAction) && compAction.value) {\r\n    const { video, marker } = compAction.value;\r\n    return {\r\n      action: \"videomarker\",\r\n      option: `${video}-${marker}`,\r\n    };\r\n  } else if (isAudioMaker(compAction) && compAction.value) {\r\n    const { sound, marker } = compAction.value;\r\n    return {\r\n      action: \"audiomarker\",\r\n      option: `${sound}-${marker}`,\r\n    };\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}