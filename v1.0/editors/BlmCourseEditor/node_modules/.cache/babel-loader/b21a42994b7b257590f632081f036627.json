{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\frames\\\\main-frame\\\\BlmMainFrame.tsx\";\nimport React, { useRef, useEffect, Fragment } from \"react\";\nimport clsx from \"clsx\";\nimport Frame, { FrameContextConsumer } from \"react-frame-component\";\nimport { create } from \"jss\";\nimport { jssPreset, StylesProvider } from \"@material-ui/core/styles\";\nimport { CourseDisplay, TemplateDisplayTypes, TemplateOrientationTypes } from \"editor-constants\";\nimport BlmLoaders from \"components/main/loaders\";\nimport BlmMainStyles from \"./BlmMainStyles\";\nimport \"./styles.scss\"; //https://github.com/DefinitelyTyped/DefinitelyTyped/issues/42537\n\nconst defaultContent = `<!DOCTYPE html>\n<html>\n  <head>\n    <noscript id=\"jss-insertion-point\"></noscript>\n  </head>\n  <body>\n  </body>\n</html>`;\n\nfunction BlmMainFrame(props) {\n  const {\n    children,\n    style,\n    properties,\n    display,\n    orientation,\n    styles,\n    setTemplateView\n  } = props;\n  const frameRef = useRef(null);\n  useEffect(() => {\n    if (frameRef.current && frameRef.current.node) {\n      const frame = frameRef.current.node;\n\n      if (display === TemplateDisplayTypes.Desktop) {\n        frame.style.width = \"100%\";\n        frame.style.height = \"100%\";\n      } else {\n        if (orientation === TemplateOrientationTypes.Portrait) {\n          frame.style.width = \"375px\";\n          frame.style.height = \"700px\";\n        } else {\n          frame.style.width = \"700px\";\n          frame.style.height = \"375px\";\n        }\n      }\n    }\n  }, [display, orientation]);\n\n  const renderHead = () => {\n    const {\n      customBootstrap,\n      draftJS,\n      template,\n      bootstrap\n    } = (style === null || style === void 0 ? void 0 : style.cssFiles) || {};\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"meta\", {\n      charSet: \"utf-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"meta\", {\n      httpEquiv: \"X-UA-Compatible\",\n      content: \"IE=edge\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"meta\", {\n      name: \"viewport\",\n      content: \"width=device-width, initial-scale=1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, \"Bilim Editor\"), /*#__PURE__*/React.createElement(\"link\", {\n      href: customBootstrap,\n      rel: \"stylesheet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"link\", {\n      href: draftJS,\n      rel: \"stylesheet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), bootstrap && /*#__PURE__*/React.createElement(\"link\", {\n      href: bootstrap,\n      rel: \"stylesheet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 23\n      }\n    }), template && /*#__PURE__*/React.createElement(\"link\", {\n      href: template,\n      rel: \"stylesheet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 22\n      }\n    }));\n  };\n\n  const handleDesktopBtnClick = () => {\n    setTemplateView(TemplateDisplayTypes.Desktop);\n  };\n\n  const handleMobileBtnClick = () => {\n    setTemplateView(TemplateDisplayTypes.Mobile, TemplateOrientationTypes.Portrait);\n  };\n\n  const handleOrientationClick = () => {\n    if (orientation === TemplateOrientationTypes.Portrait) {\n      setTemplateView(display, TemplateOrientationTypes.Landscape);\n    } else {\n      setTemplateView(display, TemplateOrientationTypes.Portrait);\n    }\n  };\n\n  if (children) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: clsx(\"main-frame-wrapper\", display),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"display-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"desktop-display\",\n      onClick: handleDesktopBtnClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }), (properties === null || properties === void 0 ? void 0 : properties.display) !== CourseDisplay.Desktop && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mobile-display\",\n      onClick: handleMobileBtnClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    })), display === TemplateDisplayTypes.Mobile && /*#__PURE__*/React.createElement(\"div\", {\n      className: clsx(\"orientation-wrapper\", orientation),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orientation\",\n      onClick: handleOrientationClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"orientation-size\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, orientation === TemplateOrientationTypes.Portrait ? \"375 x 700\" : \"700 x 375\")), /*#__PURE__*/React.createElement(Frame, {\n      id: \"templateFrame\",\n      ref: frameRef,\n      initialContent: defaultContent,\n      head: renderHead(),\n      mountTarget: \"body\",\n      frameBorder: 0,\n      scrolling: \"auto\",\n      className: \"main-frame\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FrameContextConsumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, ({\n      document\n    }) => {\n      const jss = create({ ...jssPreset(),\n        insertionPoint: document.getElementById(\"jss-insertion-point\")\n      });\n      const sheetsManager = new Map();\n      return /*#__PURE__*/React.createElement(StylesProvider, {\n        jss: jss,\n        sheetsManager: sheetsManager,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(BlmMainStyles, {\n        body: styles,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(BlmLoaders, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid swimlane_main_container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-xl swimlane\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1 swimlanecell\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }\n      })))), children);\n    })));\n  } else {\n    return null;\n  }\n}\n\nexport default BlmMainFrame;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/frames/main-frame/BlmMainFrame.tsx"],"names":["React","useRef","useEffect","Fragment","clsx","Frame","FrameContextConsumer","create","jssPreset","StylesProvider","CourseDisplay","TemplateDisplayTypes","TemplateOrientationTypes","BlmLoaders","BlmMainStyles","defaultContent","BlmMainFrame","props","children","style","properties","display","orientation","styles","setTemplateView","frameRef","current","node","frame","Desktop","width","height","Portrait","renderHead","customBootstrap","draftJS","template","bootstrap","cssFiles","handleDesktopBtnClick","handleMobileBtnClick","Mobile","handleOrientationClick","Landscape","document","jss","insertionPoint","getElementById","sheetsManager","Map"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, ReactNode, CSSProperties, Fragment } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport Frame, { FrameContextConsumer } from \"react-frame-component\";\r\nimport { create } from \"jss\";\r\nimport { jssPreset, StylesProvider } from \"@material-ui/core/styles\";\r\n\r\nimport { CourseDisplay, TemplateDisplayTypes, TemplateOrientationTypes } from \"editor-constants\";\r\nimport BlmLoaders from \"components/main/loaders\";\r\nimport BlmMainStyles from \"./BlmMainStyles\";\r\nimport { ContainerProps } from \"./container\";\r\nimport \"./styles.scss\";\r\n\r\n//https://github.com/DefinitelyTyped/DefinitelyTyped/issues/42537\r\nexport interface MainFrameProps {\r\n  styles?: CSSProperties;\r\n  children?: ReactNode;\r\n}\r\n\r\ntype FrameType = InstanceType<typeof Frame> & { node: HTMLFrameElement };\r\n\r\nconst defaultContent = `<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <noscript id=\"jss-insertion-point\"></noscript>\r\n  </head>\r\n  <body>\r\n  </body>\r\n</html>`;\r\n\r\nfunction BlmMainFrame(props: MainFrameProps & ContainerProps) {\r\n  const { children, style, properties, display, orientation, styles, setTemplateView } = props;\r\n  const frameRef = useRef<FrameType | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (frameRef.current && frameRef.current.node) {\r\n      const frame = frameRef.current.node;\r\n      if (display === TemplateDisplayTypes.Desktop) {\r\n        frame.style.width = \"100%\";\r\n        frame.style.height = \"100%\";\r\n      } else {\r\n        if (orientation === TemplateOrientationTypes.Portrait) {\r\n          frame.style.width = \"375px\";\r\n          frame.style.height = \"700px\";\r\n        } else {\r\n          frame.style.width = \"700px\";\r\n          frame.style.height = \"375px\";\r\n        }\r\n      }\r\n    }\r\n  }, [display, orientation]);\r\n\r\n  const renderHead = () => {\r\n    const { customBootstrap, draftJS, template, bootstrap } = style?.cssFiles || {};\r\n\r\n    return (\r\n      <Fragment>\r\n        <meta charSet=\"utf-8\" />\r\n        <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n        <title>Bilim Editor</title>\r\n        <link href={customBootstrap} rel=\"stylesheet\" />\r\n        <link href={draftJS} rel=\"stylesheet\" />\r\n        {bootstrap && <link href={bootstrap} rel=\"stylesheet\" />}\r\n        {template && <link href={template} rel=\"stylesheet\" />}\r\n      </Fragment>\r\n    );\r\n  };\r\n\r\n  const handleDesktopBtnClick = () => {\r\n    setTemplateView(TemplateDisplayTypes.Desktop);\r\n  };\r\n\r\n  const handleMobileBtnClick = () => {\r\n    setTemplateView(TemplateDisplayTypes.Mobile, TemplateOrientationTypes.Portrait);\r\n  };\r\n\r\n  const handleOrientationClick = () => {\r\n    if (orientation === TemplateOrientationTypes.Portrait) {\r\n      setTemplateView(display, TemplateOrientationTypes.Landscape);\r\n    } else {\r\n      setTemplateView(display, TemplateOrientationTypes.Portrait);\r\n    }\r\n  };\r\n\r\n  if (children) {\r\n    return (\r\n      <div className={clsx(\"main-frame-wrapper\", display)}>\r\n        <div className=\"display-wrapper\">\r\n          <div className=\"desktop-display\" onClick={handleDesktopBtnClick} />\r\n          {properties?.display !== CourseDisplay.Desktop && (\r\n            <div className=\"mobile-display\" onClick={handleMobileBtnClick} />\r\n          )}\r\n        </div>\r\n        {display === TemplateDisplayTypes.Mobile && (\r\n          <div className={clsx(\"orientation-wrapper\", orientation)}>\r\n            <div className=\"orientation\" onClick={handleOrientationClick} />\r\n            <span className=\"orientation-size\">\r\n              {orientation === TemplateOrientationTypes.Portrait ? \"375 x 700\" : \"700 x 375\"}\r\n            </span>\r\n          </div>\r\n        )}\r\n        <Frame\r\n          id=\"templateFrame\"\r\n          ref={frameRef}\r\n          initialContent={defaultContent}\r\n          head={renderHead()}\r\n          mountTarget=\"body\"\r\n          frameBorder={0}\r\n          scrolling=\"auto\"\r\n          className=\"main-frame\"\r\n        >\r\n          <FrameContextConsumer>\r\n            {({ document }) => {\r\n              const jss = create({\r\n                ...jssPreset(),\r\n                insertionPoint: document.getElementById(\"jss-insertion-point\"),\r\n              });\r\n              const sheetsManager = new Map();\r\n\r\n              return (\r\n                <StylesProvider jss={jss} sheetsManager={sheetsManager}>\r\n                  <BlmMainStyles body={styles} />\r\n                  <BlmLoaders />\r\n                  <div className=\"container-fluid swimlane_main_container\">\r\n                    <div className=\"container-xl swimlane\">\r\n                      <div className=\"row\">\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                        <div className=\"col-1\" />\r\n                        <div className=\"col-1 swimlanecell\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  {children}\r\n                </StylesProvider>\r\n              );\r\n            }}\r\n          </FrameContextConsumer>\r\n        </Frame>\r\n      </div>\r\n    );\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default BlmMainFrame;\r\n"]},"metadata":{},"sourceType":"module"}