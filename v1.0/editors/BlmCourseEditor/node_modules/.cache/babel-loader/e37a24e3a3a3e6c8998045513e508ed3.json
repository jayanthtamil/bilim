{"ast":null,"code":"import { ClassAttribute, BLMElement, StyleAttribute } from \"types\";\nimport { StyleListTypes } from \"editor-constants\";\nimport { setBLMElement } from \"../../core\";\nimport { getComponentClassNames, getStyleClassNames, getTintStyles } from \"./common\";\nexport function setSoundComponent(element, sound) {\n  const model = createSound(sound);\n  setBLMElement(element, model);\n  setSoundHTML(element, sound);\n}\n\nfunction createSound(sound) {\n  const {\n    value,\n    options,\n    isDeactivated\n  } = sound;\n  const {\n    media,\n    image,\n    autoPlay,\n    localPlay,\n    style\n  } = value;\n  const model = new BLMElement();\n  const classAttr = new ClassAttribute();\n  const styleAttr = new StyleAttribute();\n  const clsNames = getComponentClassNames([StyleListTypes.Sound]);\n  model.isDeactivated = isDeactivated;\n  model.editorOptions = media || image ? {\n    media,\n    image\n  } : null;\n  classAttr.removables = [...clsNames, \"vertical\", \"horizontal\", \"shadow\"];\n  styleAttr.removables = [\"--blm_tint_color\", \"--blm_tint_opacity\", \"--blm_undertext_color\", \"--blm_undertext_opacity\"];\n\n  if (style) {\n    classAttr.items.push(...getStyleClassNames(style, \"sound\"));\n    Object.assign(styleAttr, getTintStyles(style));\n  }\n\n  model.options = { ...options,\n    parameters: { ...(options === null || options === void 0 ? void 0 : options.parameters),\n      autostart: autoPlay,\n      local: localPlay\n    }\n  };\n  model.classAttr = classAttr;\n  model.styleAttr = styleAttr;\n  return model;\n}\n\nfunction setSoundHTML(element, sound) {\n  if (sound) {\n    const {\n      value\n    } = sound;\n    const {\n      media,\n      image,\n      title,\n      description,\n      caption\n    } = value;\n    element.innerHTML = `\n    <div class=\"mediawrapper\">\n      <audio controls>${media ? `\\n\\t<source src=\"${media.url}\" type=\"audio/mpeg\" />` : \"\"}${(media === null || media === void 0 ? void 0 : media.subtitle) ? `\\n\\t<track label=\"english\" kind=\"subtitles\" srclang=\"en\" src=\"${media.subtitle.url}\" default/>` : \"\"}${(media === null || media === void 0 ? void 0 : media.marker) ? `\\n\\t<track label=\"english\" kind=\"chapters\" srclang=\"en\" src=\"${media.marker.url}\"/>` : \"\"}        \n        Your browser does not support the audio tag.\n      </audio>\n      <div class=\"audiothumbnail\">\n        <img src=\"${(image === null || image === void 0 ? void 0 : image.url) || \"\"}\"/>\n      </div>\n      <div class=\"captionwrapper\">\n        <div class=\"title\">${title}</div>\n        <div class=\"description\">${description}</div>\n        <div class=\"caption\">${caption}</div>\n      </div>\n    </div>`;\n  }\n}","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/template-builders/html/component/sound.ts"],"names":["ClassAttribute","BLMElement","StyleAttribute","StyleListTypes","setBLMElement","getComponentClassNames","getStyleClassNames","getTintStyles","setSoundComponent","element","sound","model","createSound","setSoundHTML","value","options","isDeactivated","media","image","autoPlay","localPlay","style","classAttr","styleAttr","clsNames","Sound","editorOptions","removables","items","push","Object","assign","parameters","autostart","local","title","description","caption","innerHTML","url","subtitle","marker"],"mappings":"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","sourcesContent":["import { ClassAttribute, BLMElement, StyleAttribute, SoundComponent } from \"types\";\r\nimport { StyleListTypes } from \"editor-constants\";\r\nimport { setBLMElement } from \"../../core\";\r\nimport { getComponentClassNames, getStyleClassNames, getTintStyles } from \"./common\";\r\n\r\nexport function setSoundComponent(element: HTMLElement, sound: SoundComponent) {\r\n  const model = createSound(sound);\r\n\r\n  setBLMElement(element, model);\r\n  setSoundHTML(element, sound);\r\n}\r\n\r\nfunction createSound(sound: SoundComponent) {\r\n  const { value, options, isDeactivated } = sound;\r\n  const { media, image, autoPlay, localPlay, style } = value;\r\n  const model = new BLMElement();\r\n  const classAttr = new ClassAttribute();\r\n  const styleAttr = new StyleAttribute();\r\n  const clsNames = getComponentClassNames([StyleListTypes.Sound]);\r\n\r\n  model.isDeactivated = isDeactivated;\r\n  model.editorOptions = media || image ? { media, image } : null;\r\n\r\n  classAttr.removables = [...clsNames, \"vertical\", \"horizontal\", \"shadow\"];\r\n  styleAttr.removables = [\r\n    \"--blm_tint_color\",\r\n    \"--blm_tint_opacity\",\r\n    \"--blm_undertext_color\",\r\n    \"--blm_undertext_opacity\",\r\n  ];\r\n\r\n  if (style) {\r\n    classAttr.items.push(...getStyleClassNames(style, \"sound\"));\r\n    Object.assign(styleAttr, getTintStyles(style));\r\n  }\r\n\r\n  model.options = {\r\n    ...options,\r\n    parameters: { ...options?.parameters, autostart: autoPlay, local: localPlay },\r\n  };\r\n  model.classAttr = classAttr;\r\n  model.styleAttr = styleAttr;\r\n\r\n  return model;\r\n}\r\n\r\nfunction setSoundHTML(element: HTMLElement, sound: SoundComponent) {\r\n  if (sound) {\r\n    const { value } = sound;\r\n    const { media, image, title, description, caption } = value;\r\n\r\n    element.innerHTML = `\r\n    <div class=\"mediawrapper\">\r\n      <audio controls>${media ? `\\n\\t<source src=\"${media.url}\" type=\"audio/mpeg\" />` : \"\"}${\r\n      media?.subtitle\r\n        ? `\\n\\t<track label=\"english\" kind=\"subtitles\" srclang=\"en\" src=\"${media.subtitle.url}\" default/>`\r\n        : \"\"\r\n    }${\r\n      media?.marker\r\n        ? `\\n\\t<track label=\"english\" kind=\"chapters\" srclang=\"en\" src=\"${media.marker.url}\"/>`\r\n        : \"\"\r\n    }        \r\n        Your browser does not support the audio tag.\r\n      </audio>\r\n      <div class=\"audiothumbnail\">\r\n        <img src=\"${image?.url || \"\"}\"/>\r\n      </div>\r\n      <div class=\"captionwrapper\">\r\n        <div class=\"title\">${title}</div>\r\n        <div class=\"description\">${description}</div>\r\n        <div class=\"caption\">${caption}</div>\r\n      </div>\r\n    </div>`;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}