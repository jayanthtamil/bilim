{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\template-editors\\\\core\\\\expert-editor\\\\BlmExpertEditor.tsx\";\nimport React, { Fragment, useRef } from \"react\";\nimport { Popper, Backdrop } from \"@material-ui/core\";\nimport { useTranslation } from \"react-i18next\";\nimport \"./styles.scss\";\nimport { createModifiersForIFrame } from \"components/template-editors/utils\";\nimport { BlmTemplateExpert } from \"components/template-editors/containers\";\nimport { PanelCloseReasons } from \"editor-constants\";\nconst modifiers = createModifiersForIFrame(-18, 1);\nconst popperOptions = {\n  eventsEnabled: true\n};\n\nfunction BlmExpertEditor(props) {\n  const {\n    open,\n    anchorEle,\n    template,\n    element,\n    onSave,\n    onClose,\n    templateEle,\n    onPreview,\n    onMore,\n    openConfirmDialog\n  } = props;\n  const editorRef = useRef(null);\n  const {\n    t\n  } = useTranslation();\n\n  const handleSave = event => {\n    const editor = editorRef.current;\n\n    if (editor) {\n      editor.saveOnClose(event);\n    }\n  };\n\n  const handleCancel = event => {\n    const editor = editorRef.current;\n\n    if (editor) {\n      editor.revert();\n    }\n\n    handleClose(event, PanelCloseReasons.Cancel);\n  };\n\n  const openSaveConfirmDialog = () => {\n    const options = {\n      className: \"template-editor-warning-dialog\",\n      okLabel: `${t(\"button.save\")}`,\n      cancelLabel: `${t(\"button.cancel\")}`\n    };\n    openConfirmDialog(`${t(\"alert.cancel_confirm\")}`, `${t(\"alert.save_changes\")}`, handleSave, handleCancel, options);\n  };\n\n  const handleBackdropClick = event => {\n    const editor = editorRef.current;\n\n    if (editor && editor.isEdited) {\n      openSaveConfirmDialog();\n    } else {\n      handleClose(event);\n    }\n  };\n\n  const handleClose = (event, reason = PanelCloseReasons.Close) => {\n    if (onClose) {\n      onClose(event, reason);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Popper, {\n    id: \"variant-popper\",\n    open: open,\n    anchorEl: open ? anchorEle : null,\n    placement: \"bottom-start\",\n    popperOptions: popperOptions,\n    modifiers: modifiers,\n    className: \"template-expert-editor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BlmTemplateExpert, {\n    ref: editorRef,\n    element: element,\n    template: template,\n    onSave: onSave,\n    onClose: onClose,\n    templateEle: templateEle,\n    onPreview: onPreview,\n    onMore: onMore,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Backdrop, {\n    open: open,\n    className: \"template-action-editor-backdrop\",\n    onClick: handleBackdropClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default BlmExpertEditor;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/template-editors/core/expert-editor/BlmExpertEditor.tsx"],"names":["React","Fragment","useRef","Popper","Backdrop","useTranslation","createModifiersForIFrame","BlmTemplateExpert","PanelCloseReasons","modifiers","popperOptions","eventsEnabled","BlmExpertEditor","props","open","anchorEle","template","element","onSave","onClose","templateEle","onPreview","onMore","openConfirmDialog","editorRef","t","handleSave","event","editor","current","saveOnClose","handleCancel","revert","handleClose","Cancel","openSaveConfirmDialog","options","className","okLabel","cancelLabel","handleBackdropClick","isEdited","reason","Close"],"mappings":"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","sourcesContent":["import React, { Fragment, MouseEvent, useRef } from \"react\";\r\nimport { Popper, Backdrop } from \"@material-ui/core\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ContainerProps } from \"./expert-editor-container\";\r\nimport \"./styles.scss\";\r\nimport { CourseElementTemplate, TemplateEditorComponent, CourseElement, TemplatePanelOptions } from \"types\";\r\nimport { createModifiersForIFrame } from \"components/template-editors/utils\";\r\nimport { BlmTemplateExpert } from \"components/template-editors/containers\";\r\nimport { PanelCloseReasons } from \"editor-constants\";\r\n\r\nexport interface CompProps extends ContainerProps {\r\n    open: boolean;\r\n    anchorEle: HTMLElement;\r\n    element: CourseElement;\r\n    template: CourseElementTemplate;\r\n    onSave: (template: CourseElementTemplate) => void;\r\n    onClose: (event: MouseEvent, reason: PanelCloseReasons) => void;\r\n    templateEle: any;\r\n    onPreview: (template: CourseElementTemplate) => void;\r\n    onMore: (options: TemplatePanelOptions) => void;\r\n}\r\n\r\nconst modifiers = createModifiersForIFrame(-18, 1);\r\n\r\nconst popperOptions = {\r\n    eventsEnabled: true,\r\n};\r\n\r\nfunction BlmExpertEditor(props: CompProps) {\r\n    const { open, anchorEle, template, element, onSave, onClose, templateEle, onPreview, onMore, openConfirmDialog, } = props;\r\n\r\n    const editorRef = useRef<TemplateEditorComponent | null>(null);\r\n    const { t } = useTranslation();\r\n\r\n    const handleSave = (event: MouseEvent) => {\r\n        const editor = editorRef.current;\r\n\r\n        if (editor) {\r\n            editor.saveOnClose(event);\r\n        }\r\n    };\r\n\r\n    const handleCancel = (event: MouseEvent) => {\r\n        const editor = editorRef.current;\r\n\r\n        if (editor) {\r\n            editor.revert();\r\n        }\r\n\r\n        handleClose(event, PanelCloseReasons.Cancel);\r\n    };\r\n\r\n    const openSaveConfirmDialog = () => {\r\n        const options = {\r\n            className: \"template-editor-warning-dialog\",\r\n            okLabel: `${t(\"button.save\")}`,\r\n            cancelLabel: `${t(\"button.cancel\")}`,\r\n        };\r\n\r\n        openConfirmDialog(\r\n            `${t(\"alert.cancel_confirm\")}`,\r\n            `${t(\"alert.save_changes\")}`,\r\n            handleSave,\r\n            handleCancel,\r\n            options\r\n        );\r\n    };\r\n\r\n    const handleBackdropClick = (event: MouseEvent) => {\r\n        const editor = editorRef.current;\r\n\r\n        if (editor && editor.isEdited) {\r\n            openSaveConfirmDialog();\r\n        } else {\r\n            handleClose(event);\r\n        }\r\n    };\r\n\r\n    const handleClose = (event: MouseEvent, reason = PanelCloseReasons.Close) => {\r\n        if (onClose) {\r\n            onClose(event, reason);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <Popper\r\n                id=\"variant-popper\"\r\n                open={open}\r\n                anchorEl={open ? anchorEle : null}\r\n                placement=\"bottom-start\"\r\n                popperOptions={popperOptions}\r\n                modifiers={modifiers}\r\n                className=\"template-expert-editor\"\r\n            >\r\n                <BlmTemplateExpert\r\n                    ref={editorRef}\r\n                    element={element}\r\n                    template={template}\r\n                    onSave={onSave}\r\n                    onClose={onClose}\r\n                    templateEle={templateEle}\r\n                    onPreview={onPreview}\r\n                    onMore={onMore}\r\n                />\r\n\r\n            </Popper>\r\n            <Backdrop\r\n                open={open}\r\n                className=\"template-action-editor-backdrop\"\r\n                onClick={handleBackdropClick}\r\n            />\r\n        </Fragment>\r\n    )\r\n}\r\nexport default BlmExpertEditor;"]},"metadata":{},"sourceType":"module"}