{"ast":null,"code":"import { PartPageBackground } from \"types\";\nimport { BackgroundSizeTypes } from \"editor-constants\";\nimport { fromRgbaStr, createHTMLElement } from \"utils\";\nimport { getHTMLElement } from \"../../core\";\nimport { getBackgroundImage, getBackgroundVideo } from \"./common\";\nexport function getPartPageBackgroundModel(template) {\n  const htmlElement = createHTMLElement(`<div>${template.html}</div>`);\n\n  if (htmlElement) {\n    return getPartPageBackground(htmlElement);\n  }\n}\n\nfunction getPartPageBackground(parent) {\n  const outer = getHTMLElement(parent, \".outercontainer\");\n  const inner = getHTMLElement(parent, \".innercontainer\");\n  const video = getHTMLElement(parent, \".videoouter\");\n  const background = new PartPageBackground();\n\n  if (outer) {\n    if (video) {\n      background.media = getBackgroundVideo(video);\n\n      if (inner && video.parentElement === inner.parentElement) {\n        background.mediaSize = BackgroundSizeTypes.Content;\n      } else if (video.parentElement === outer) {\n        background.mediaSize = BackgroundSizeTypes.Large;\n      }\n    } else {\n      if (inner && inner.style.backgroundImage !== \"\") {\n        background.media = getBackgroundImage(inner);\n        background.mediaSize = BackgroundSizeTypes.Content;\n      } else if (outer.style.backgroundImage !== \"\") {\n        background.media = getBackgroundImage(outer);\n        background.mediaSize = BackgroundSizeTypes.Large;\n      }\n    }\n\n    if (inner && inner.style.backgroundColor !== \"\") {\n      background.tint = fromRgbaStr(inner.style.backgroundColor);\n      background.colorSize = BackgroundSizeTypes.Content;\n    } else if (outer.style.backgroundColor !== \"\") {\n      background.tint = fromRgbaStr(outer.style.backgroundColor);\n      background.colorSize = BackgroundSizeTypes.Large;\n    }\n  }\n\n  return background;\n}","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/template-builders/model/background/partpage.ts"],"names":["PartPageBackground","BackgroundSizeTypes","fromRgbaStr","createHTMLElement","getHTMLElement","getBackgroundImage","getBackgroundVideo","getPartPageBackgroundModel","template","htmlElement","html","getPartPageBackground","parent","outer","inner","video","background","media","parentElement","mediaSize","Content","Large","style","backgroundImage","backgroundColor","tint","colorSize"],"mappings":"AAAA,SAAgCA,kBAAhC,QAA0D,OAA1D;AACA,SAASC,mBAAT,QAAoC,kBAApC;AACA,SAASC,WAAT,EAAsBC,iBAAtB,QAA+C,OAA/C;AACA,SAASC,cAAT,QAA+B,YAA/B;AACA,SAASC,kBAAT,EAA6BC,kBAA7B,QAAuD,UAAvD;AAEA,OAAO,SAASC,0BAAT,CAAoCC,QAApC,EAAqE;AAC1E,QAAMC,WAAW,GAAGN,iBAAiB,CAAE,QAAOK,QAAQ,CAACE,IAAK,QAAvB,CAArC;;AAEA,MAAID,WAAJ,EAAiB;AACf,WAAOE,qBAAqB,CAACF,WAAD,CAA5B;AACD;AACF;;AAED,SAASE,qBAAT,CAA+BC,MAA/B,EAAoD;AAClD,QAAMC,KAAK,GAAGT,cAAc,CAACQ,MAAD,EAAS,iBAAT,CAA5B;AACA,QAAME,KAAK,GAAGV,cAAc,CAACQ,MAAD,EAAS,iBAAT,CAA5B;AACA,QAAMG,KAAK,GAAGX,cAAc,CAACQ,MAAD,EAAS,aAAT,CAA5B;AACA,QAAMI,UAAU,GAAG,IAAIhB,kBAAJ,EAAnB;;AAEA,MAAIa,KAAJ,EAAW;AACT,QAAIE,KAAJ,EAAW;AACTC,MAAAA,UAAU,CAACC,KAAX,GAAmBX,kBAAkB,CAACS,KAAD,CAArC;;AAEA,UAAID,KAAK,IAAIC,KAAK,CAACG,aAAN,KAAwBJ,KAAK,CAACI,aAA3C,EAA0D;AACxDF,QAAAA,UAAU,CAACG,SAAX,GAAuBlB,mBAAmB,CAACmB,OAA3C;AACD,OAFD,MAEO,IAAIL,KAAK,CAACG,aAAN,KAAwBL,KAA5B,EAAmC;AACxCG,QAAAA,UAAU,CAACG,SAAX,GAAuBlB,mBAAmB,CAACoB,KAA3C;AACD;AACF,KARD,MAQO;AACL,UAAIP,KAAK,IAAIA,KAAK,CAACQ,KAAN,CAAYC,eAAZ,KAAgC,EAA7C,EAAiD;AAC/CP,QAAAA,UAAU,CAACC,KAAX,GAAmBZ,kBAAkB,CAACS,KAAD,CAArC;AACAE,QAAAA,UAAU,CAACG,SAAX,GAAuBlB,mBAAmB,CAACmB,OAA3C;AACD,OAHD,MAGO,IAAIP,KAAK,CAACS,KAAN,CAAYC,eAAZ,KAAgC,EAApC,EAAwC;AAC7CP,QAAAA,UAAU,CAACC,KAAX,GAAmBZ,kBAAkB,CAACQ,KAAD,CAArC;AACAG,QAAAA,UAAU,CAACG,SAAX,GAAuBlB,mBAAmB,CAACoB,KAA3C;AACD;AACF;;AAED,QAAIP,KAAK,IAAIA,KAAK,CAACQ,KAAN,CAAYE,eAAZ,KAAgC,EAA7C,EAAiD;AAC/CR,MAAAA,UAAU,CAACS,IAAX,GAAkBvB,WAAW,CAACY,KAAK,CAACQ,KAAN,CAAYE,eAAb,CAA7B;AACAR,MAAAA,UAAU,CAACU,SAAX,GAAuBzB,mBAAmB,CAACmB,OAA3C;AACD,KAHD,MAGO,IAAIP,KAAK,CAACS,KAAN,CAAYE,eAAZ,KAAgC,EAApC,EAAwC;AAC7CR,MAAAA,UAAU,CAACS,IAAX,GAAkBvB,WAAW,CAACW,KAAK,CAACS,KAAN,CAAYE,eAAb,CAA7B;AACAR,MAAAA,UAAU,CAACU,SAAX,GAAuBzB,mBAAmB,CAACoB,KAA3C;AACD;AACF;;AAED,SAAOL,UAAP;AACD","sourcesContent":["import { CourseElementTemplate, PartPageBackground } from \"types\";\r\nimport { BackgroundSizeTypes } from \"editor-constants\";\r\nimport { fromRgbaStr, createHTMLElement } from \"utils\";\r\nimport { getHTMLElement } from \"../../core\";\r\nimport { getBackgroundImage, getBackgroundVideo } from \"./common\";\r\n\r\nexport function getPartPageBackgroundModel(template: CourseElementTemplate) {\r\n  const htmlElement = createHTMLElement(`<div>${template.html}</div>`);\r\n\r\n  if (htmlElement) {\r\n    return getPartPageBackground(htmlElement);\r\n  }\r\n}\r\n\r\nfunction getPartPageBackground(parent: HTMLElement) {\r\n  const outer = getHTMLElement(parent, \".outercontainer\");\r\n  const inner = getHTMLElement(parent, \".innercontainer\");\r\n  const video = getHTMLElement(parent, \".videoouter\");\r\n  const background = new PartPageBackground();\r\n\r\n  if (outer) {\r\n    if (video) {\r\n      background.media = getBackgroundVideo(video);\r\n\r\n      if (inner && video.parentElement === inner.parentElement) {\r\n        background.mediaSize = BackgroundSizeTypes.Content;\r\n      } else if (video.parentElement === outer) {\r\n        background.mediaSize = BackgroundSizeTypes.Large;\r\n      }\r\n    } else {\r\n      if (inner && inner.style.backgroundImage !== \"\") {\r\n        background.media = getBackgroundImage(inner);\r\n        background.mediaSize = BackgroundSizeTypes.Content;\r\n      } else if (outer.style.backgroundImage !== \"\") {\r\n        background.media = getBackgroundImage(outer);\r\n        background.mediaSize = BackgroundSizeTypes.Large;\r\n      }\r\n    }\r\n\r\n    if (inner && inner.style.backgroundColor !== \"\") {\r\n      background.tint = fromRgbaStr(inner.style.backgroundColor);\r\n      background.colorSize = BackgroundSizeTypes.Content;\r\n    } else if (outer.style.backgroundColor !== \"\") {\r\n      background.tint = fromRgbaStr(outer.style.backgroundColor);\r\n      background.colorSize = BackgroundSizeTypes.Large;\r\n    }\r\n  }\r\n\r\n  return background;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}