{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rajesh\\\\Downloads\\\\bilim (2)\\\\bilim\\\\v1.0\\\\editors\\\\BlmCourseEditor\\\\src\\\\components\\\\content-editor\\\\components\\\\actions\\\\goto-360\\\\BlmGoto360Action.tsx\";\nimport React, { useMemo } from \"react\";\nimport { Select, MenuItem } from \"@material-ui/core\";\nimport { isMediaComponent, isMediaHotspot360 } from \"utils\";\nimport { useContentEditorCtx } from \"components/content-editor/core\";\nimport { useHotspot360Context } from \"../../media/hotspot/360\";\nimport \"./styles.scss\";\n\nfunction BlmGoto360Action(props) {\n  const {\n    data,\n    onChange\n  } = props;\n  const {\n    component\n  } = useContentEditorCtx();\n  const {\n    selectedId\n  } = useHotspot360Context();\n  const {\n    gotoId\n  } = data || {};\n  const items = useMemo(() => {\n    if (component && isMediaComponent(component) && isMediaHotspot360(component)) {\n      const {\n        items\n      } = component.value;\n      return items.filter(item => item.id !== selectedId);\n    }\n\n    return [];\n  }, [selectedId, component]);\n\n  const updateChange = newData => {\n    if (onChange) {\n      onChange({\n        target: {\n          name: \"goto360\",\n          value: newData\n        }\n      });\n    }\n  };\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    const newData = {\n      gotoId\n    };\n\n    if (name === \"gotoId\") {\n      newData.gotoId = value;\n    }\n\n    updateChange(newData);\n  };\n\n  const renderPlaceholder = () => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 12\n      }\n    }, \"Select 360\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"goto-360-action-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    name: \"gotoId\",\n    value: gotoId || \"\",\n    displayEmpty: true,\n    disabled: items.length === 0,\n    renderValue: gotoId ? undefined : renderPlaceholder,\n    MenuProps: {\n      className: \"goto-360-actions-dropdown-popover\"\n    },\n    className: \"goto-360-actions-dropdown\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, items.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n    key: item.id,\n    value: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, item.name))));\n}\n\nexport default BlmGoto360Action;","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/components/content-editor/components/actions/goto-360/BlmGoto360Action.tsx"],"names":["React","useMemo","Select","MenuItem","isMediaComponent","isMediaHotspot360","useContentEditorCtx","useHotspot360Context","BlmGoto360Action","props","data","onChange","component","selectedId","gotoId","items","value","filter","item","id","updateChange","newData","target","name","handleChange","event","renderPlaceholder","length","undefined","className","map"],"mappings":";AAAA,OAAOA,KAAP,IAA6BC,OAA7B,QAA4C,OAA5C;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,mBAAjC;AAGA,SAASC,gBAAT,EAA2BC,iBAA3B,QAAoD,OAApD;AACA,SAASC,mBAAT,QAAoC,gCAApC;AACA,SAASC,oBAAT,QAAqC,yBAArC;AACA,OAAO,eAAP;;AAOA,SAASC,gBAAT,CAA0BC,KAA1B,EAA4C;AAC1C,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAqBF,KAA3B;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAgBN,mBAAmB,EAAzC;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAiBN,oBAAoB,EAA3C;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAaJ,IAAI,IAAI,EAA3B;AAEA,QAAMK,KAAK,GAAGd,OAAO,CAAC,MAAM;AAC1B,QAAIW,SAAS,IAAIR,gBAAgB,CAACQ,SAAD,CAA7B,IAA4CP,iBAAiB,CAACO,SAAD,CAAjE,EAA8E;AAC5E,YAAM;AAAEG,QAAAA;AAAF,UAAYH,SAAS,CAACI,KAA5B;AAEA,aAAOD,KAAK,CAACE,MAAN,CAAcC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYN,UAAnC,CAAP;AACD;;AAED,WAAO,EAAP;AACD,GARoB,EAQlB,CAACA,UAAD,EAAaD,SAAb,CARkB,CAArB;;AAUA,QAAMQ,YAAY,GAAIC,OAAD,IAAyB;AAC5C,QAAIV,QAAJ,EAAc;AACZA,MAAAA,QAAQ,CAAC;AAAEW,QAAAA,MAAM,EAAE;AAAEC,UAAAA,IAAI,EAAE,SAAR;AAAmBP,UAAAA,KAAK,EAAEK;AAA1B;AAAV,OAAD,CAAR;AACD;AACF,GAJD;;AAMA,QAAMG,YAAY,GAAIC,KAAD,IAAyD;AAC5E,UAAM;AAAEF,MAAAA,IAAF;AAAQP,MAAAA;AAAR,QAAkBS,KAAK,CAACH,MAA9B;AACA,UAAMD,OAAO,GAAG;AAAEP,MAAAA;AAAF,KAAhB;;AAEA,QAAIS,IAAI,KAAK,QAAb,EAAuB;AACrBF,MAAAA,OAAO,CAACP,MAAR,GAAiBE,KAAjB;AACD;;AAEDI,IAAAA,YAAY,CAACC,OAAD,CAAZ;AACD,GATD;;AAWA,QAAMK,iBAAiB,GAAG,MAAM;AAC9B,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACD,GAFD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAEZ,MAAM,IAAI,EAFnB;AAGE,IAAA,YAAY,EAAE,IAHhB;AAIE,IAAA,QAAQ,EAAEC,KAAK,CAACY,MAAN,KAAiB,CAJ7B;AAKE,IAAA,WAAW,EAAEb,MAAM,GAAGc,SAAH,GAAeF,iBALpC;AAME,IAAA,SAAS,EAAE;AACTG,MAAAA,SAAS,EAAE;AADF,KANb;AASE,IAAA,SAAS,EAAC,2BATZ;AAUE,IAAA,QAAQ,EAAEL,YAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYGT,KAAK,CAACe,GAAN,CAAWZ,IAAD,iBACT,oBAAC,QAAD;AAAU,IAAA,GAAG,EAAEA,IAAI,CAACC,EAApB;AAAwB,IAAA,KAAK,EAAED,IAAI,CAACC,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,IAAI,CAACK,IADR,CADD,CAZH,CADF,CADF;AAsBD;;AAED,eAAef,gBAAf","sourcesContent":["import React, { ChangeEvent, useMemo } from \"react\";\r\nimport { Select, MenuItem } from \"@material-ui/core\";\r\n\r\nimport { GotoAction, CustomChangeEvent, Goto360Action } from \"types\";\r\nimport { isMediaComponent, isMediaHotspot360 } from \"utils\";\r\nimport { useContentEditorCtx } from \"components/content-editor/core\";\r\nimport { useHotspot360Context } from \"../../media/hotspot/360\";\r\nimport \"./styles.scss\";\r\n\r\nexport interface CompProps {\r\n  data?: Goto360Action;\r\n  onChange?: (event: CustomChangeEvent<Goto360Action>) => void;\r\n}\r\n\r\nfunction BlmGoto360Action(props: CompProps) {\r\n  const { data, onChange } = props;\r\n  const { component } = useContentEditorCtx();\r\n  const { selectedId } = useHotspot360Context();\r\n  const { gotoId } = data || {};\r\n\r\n  const items = useMemo(() => {\r\n    if (component && isMediaComponent(component) && isMediaHotspot360(component)) {\r\n      const { items } = component.value;\r\n\r\n      return items.filter((item) => item.id !== selectedId);\r\n    }\r\n\r\n    return [];\r\n  }, [selectedId, component]);\r\n\r\n  const updateChange = (newData: GotoAction) => {\r\n    if (onChange) {\r\n      onChange({ target: { name: \"goto360\", value: newData } });\r\n    }\r\n  };\r\n\r\n  const handleChange = (event: ChangeEvent<any> | CustomChangeEvent<string>) => {\r\n    const { name, value } = event.target;\r\n    const newData = { gotoId };\r\n\r\n    if (name === \"gotoId\") {\r\n      newData.gotoId = value;\r\n    }\r\n\r\n    updateChange(newData);\r\n  };\r\n\r\n  const renderPlaceholder = () => {\r\n    return <div>Select 360</div>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"goto-360-action-wrapper\">\r\n      <Select\r\n        name=\"gotoId\"\r\n        value={gotoId || \"\"}\r\n        displayEmpty={true}\r\n        disabled={items.length === 0}\r\n        renderValue={gotoId ? undefined : renderPlaceholder}\r\n        MenuProps={{\r\n          className: \"goto-360-actions-dropdown-popover\",\r\n        }}\r\n        className=\"goto-360-actions-dropdown\"\r\n        onChange={handleChange}\r\n      >\r\n        {items.map((item) => (\r\n          <MenuItem key={item.id} value={item.id}>\r\n            {item.name}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlmGoto360Action;\r\n"]},"metadata":{},"sourceType":"module"}