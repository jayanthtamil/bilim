{"ast":null,"code":"import { ContentTemplate, TemplateRepeater } from \"types\";\nimport { createHTMLElement, isButtonRepeater, isMediaRepeater, isSoundRepeater } from \"utils\";\nimport { getStyleElementRules } from \"../../core\";\nimport { GlTemplateBuilderStore } from \"../../store\";\nimport { getAllButtonComponent, getAllMediaComponent, getAllRepeaterComponent, getAllTextComponent, getAllSoundComponent, getRelativeStyles } from \"../component\";\nexport function getContentTemplateModel(template) {\n  const {\n    html,\n    template: associated\n  } = template;\n  const content = new ContentTemplate();\n  const element = createHTMLElement(html);\n\n  if (element) {\n    GlTemplateBuilderStore.setTemplate(template);\n    const rules = getStyleElementRules(element);\n    content.texts = getTextComponents(element);\n    content.medias = getMediaComponents(element);\n    content.buttons = getButtonComponents(element);\n    content.sounds = getSoundComponents(element);\n    content.repeater = getRepeaterComponents(element);\n\n    if (rules) {\n      getRelativeStyles(rules, associated.name, content.medias);\n    }\n\n    GlTemplateBuilderStore.setTemplate(undefined);\n  }\n\n  return content;\n}\n\nfunction getTextComponents(root) {\n  return getAllTextComponent(root, `[blm-component=\"text\"]`);\n}\n\nfunction getMediaComponents(root) {\n  return getAllMediaComponent(root, `:not([blm-component=\"repeater\"]) > [blm-component=\"media\"]`);\n}\n\nfunction getButtonComponents(root) {\n  return getAllButtonComponent(root, `:not([blm-component=\"repeater\"]) > [blm-component=\"button\"]`);\n}\n\nfunction getSoundComponents(root) {\n  return getAllSoundComponent(root, `:not([blm-component=\"repeater\"]) > [blm-component=\"audio\"]`);\n}\n\nfunction getRepeaterComponents(root) {\n  const repeaters = getAllRepeaterComponent(root, `[blm-component=\"repeater\"]`);\n  const result = new TemplateRepeater();\n\n  for (const repeater of repeaters) {\n    if (isMediaRepeater(repeater)) {\n      var _result$medias;\n\n      result.medias = [...((_result$medias = result.medias) !== null && _result$medias !== void 0 ? _result$medias : []), repeater];\n    } else if (isButtonRepeater(repeater)) {\n      var _result$buttons;\n\n      result.buttons = [...((_result$buttons = result.buttons) !== null && _result$buttons !== void 0 ? _result$buttons : []), repeater];\n    } else if (isSoundRepeater(repeater)) {\n      var _result$sounds;\n\n      result.sounds = [...((_result$sounds = result.sounds) !== null && _result$sounds !== void 0 ? _result$sounds : []), repeater];\n    }\n  }\n\n  return result;\n}","map":{"version":3,"sources":["C:/Users/Rajesh/Downloads/bilim (2)/bilim/v1.0/editors/BlmCourseEditor/src/template-builders/model/content/index.ts"],"names":["ContentTemplate","TemplateRepeater","createHTMLElement","isButtonRepeater","isMediaRepeater","isSoundRepeater","getStyleElementRules","GlTemplateBuilderStore","getAllButtonComponent","getAllMediaComponent","getAllRepeaterComponent","getAllTextComponent","getAllSoundComponent","getRelativeStyles","getContentTemplateModel","template","html","associated","content","element","setTemplate","rules","texts","getTextComponents","medias","getMediaComponents","buttons","getButtonComponents","sounds","getSoundComponents","repeater","getRepeaterComponents","name","undefined","root","repeaters","result"],"mappings":"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","sourcesContent":["import { CourseElementTemplate, ContentTemplate, TemplateRepeater } from \"types\";\r\nimport { createHTMLElement, isButtonRepeater, isMediaRepeater, isSoundRepeater } from \"utils\";\r\nimport { getStyleElementRules } from \"../../core\";\r\nimport { GlTemplateBuilderStore } from \"../../store\";\r\nimport {\r\n  getAllButtonComponent,\r\n  getAllMediaComponent,\r\n  getAllRepeaterComponent,\r\n  getAllTextComponent,\r\n  getAllSoundComponent,\r\n  getRelativeStyles,\r\n} from \"../component\";\r\n\r\nexport function getContentTemplateModel(template: CourseElementTemplate) {\r\n  const { html, template: associated } = template;\r\n  const content = new ContentTemplate();\r\n  const element = createHTMLElement(html);\r\n\r\n  if (element) {\r\n    GlTemplateBuilderStore.setTemplate(template);\r\n\r\n    const rules = getStyleElementRules(element);\r\n\r\n    content.texts = getTextComponents(element);\r\n    content.medias = getMediaComponents(element);\r\n    content.buttons = getButtonComponents(element);\r\n    content.sounds = getSoundComponents(element);\r\n    content.repeater = getRepeaterComponents(element);\r\n\r\n    if (rules) {\r\n      getRelativeStyles(rules, associated.name, content.medias);\r\n    }\r\n\r\n    GlTemplateBuilderStore.setTemplate(undefined);\r\n  }\r\n\r\n  return content;\r\n}\r\n\r\nfunction getTextComponents(root: HTMLElement) {\r\n  return getAllTextComponent(root, `[blm-component=\"text\"]`);\r\n}\r\n\r\nfunction getMediaComponents(root: HTMLElement) {\r\n  return getAllMediaComponent(root, `:not([blm-component=\"repeater\"]) > [blm-component=\"media\"]`);\r\n}\r\n\r\nfunction getButtonComponents(root: HTMLElement) {\r\n  return getAllButtonComponent(root, `:not([blm-component=\"repeater\"]) > [blm-component=\"button\"]`);\r\n}\r\n\r\nfunction getSoundComponents(root: HTMLElement) {\r\n  return getAllSoundComponent(root, `:not([blm-component=\"repeater\"]) > [blm-component=\"audio\"]`);\r\n}\r\n\r\nfunction getRepeaterComponents(root: HTMLElement) {\r\n  const repeaters = getAllRepeaterComponent(root, `[blm-component=\"repeater\"]`);\r\n  const result = new TemplateRepeater();\r\n\r\n  for (const repeater of repeaters) {\r\n    if (isMediaRepeater(repeater)) {\r\n      result.medias = [...(result.medias ?? []), repeater];\r\n    } else if (isButtonRepeater(repeater)) {\r\n      result.buttons = [...(result.buttons ?? []), repeater];\r\n    } else if (isSoundRepeater(repeater)) {\r\n      result.sounds = [...(result.sounds ?? []), repeater];\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}